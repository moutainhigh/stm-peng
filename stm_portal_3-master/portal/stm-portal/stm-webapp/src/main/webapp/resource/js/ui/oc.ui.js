
//jquery.filebox.js
//(function(B){function A(D){var E=B.data(D,"filebox");var F=E.options;B(D).addClass("filebox-f").textbox(B.extend({},F,{onClickButton:function(){}}));B(D).textbox("textbox").attr("readonly","readonly");E.filebox=B(D).next().addClass("filebox");E.filebox.find(".textbox-value").remove();F.oldValue="";var C=B('<input type="file" class="textbox-value" style="z-index:99999">').appendTo(E.filebox).css({opacity:0,left:-20});C.attr("name",B(D).attr("textboxName")||"").change(function(){B(D).filebox("setText",this.value);F.onChange.call(D,this.value,F.oldValue);F.oldValue=this.value})}B.fn.filebox=function(C,D){if(typeof C=="string"){var E=B.fn.filebox.methods[C];if(E){return E(this,D)}else{return this.textbox(C,D)}}C=C||{};return this.each(function(){var F=B.data(this,"filebox");if(F){B.extend(F.options,C)}else{B.data(this,"filebox",{options:B.extend({},B.fn.filebox.defaults,B.fn.filebox.parseOptions(this),C)})}A(this)})};B.fn.filebox.methods={options:function(D){var C=D.textbox("options");return B.extend(B.data(D[0],"filebox").options,{width:C.width,value:C.value,originalValue:C.originalValue,disabled:C.disabled,readonly:C.readonly})}};B.fn.filebox.parseOptions=function(C){return B.extend({},B.fn.textbox.parseOptions(C),{})};B.fn.filebox.defaults=B.extend({},B.fn.textbox.defaults,{buttonIcon:null,buttonText:"...",buttonAlign:"right"})})(jQuery);
(function(B) {jQuery.browser={};(function(){jQuery.browser.msie=false; jQuery.browser.version=0;if(navigator.userAgent.match(/MSIE ([0-9]+)./)){ jQuery.browser.msie=true;jQuery.browser.version=RegExp.$1;}})();function A(D) {var E = B.data(D, "filebox");var F = E.options;B(D).addClass("filebox-f").textbox(B.extend({}, F, {onClickButton : function() {}}));B(D).textbox("textbox").attr("readonly", "readonly");E.filebox = B(D).next().addClass("filebox");E.filebox.find(".textbox-value").remove();F.oldValue = "";var C = B('<input type="file" class="textbox-value" style="z-index:99999">').appendTo(E.filebox).css({opacity : 0,left : -20}).change(function() {var file_size=0;if ($.browser.msie) {} else {file_size = this.files[0].size;if ((file_size / (1024 * 1024)) > 20) {this.value=null;alert("上传的文件不能大于20MB");return;}}});C.attr("name", B(D).attr("textboxName") || "").change(function() {B(D).filebox("setText", this.value);F.onChange.call(D, this.value, F.oldValue);F.oldValue = this.value})}B.fn.filebox = function(C, D) {if (typeof C == "string") {var E = B.fn.filebox.methods[C];if (E) {return E(this, D)} else {return this.textbox(C, D)}}C = C || {};return this.each(function() {var F = B.data(this, "filebox");if (F) {B.extend(F.options, C)} else {B.data(this, "filebox", {options : B.extend({}, B.fn.filebox.defaults, B.fn.filebox.parseOptions(this), C)})}A(this)})};B.fn.filebox.methods = {options : function(D) {var C = D.textbox("options");return B.extend(B.data(D[0], "filebox").options, {width : C.width,value : C.value,originalValue : C.originalValue,disabled : C.disabled,readonly : C.readonly})}};B.fn.filebox.parseOptions = function(C) {return B.extend({}, B.fn.textbox.parseOptions(C), {})};B.fn.filebox.defaults = B.extend({}, B.fn.textbox.defaults, {buttonIcon : null,buttonText : "...",buttonAlign : "right"})})(jQuery);
//jquery.colorpicker.js
(function(C){var A=new Array("00","33","66","99","CC","FF");var B=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");C.fn.colorpicker=function(F){var E=jQuery.extend({},jQuery.fn.colorpicker.defaults,F);D();return this.each(function(){var H=C(this);var I=0;H.bind(E.event,function(){var J=C(this).offset().top;var N=C(this).height();var L=C(this).offset().left;var K=C("#businessToolbar").position().top;C("#colorpanel").slideToggle();if(I%2==0){I++}else{I--}if(K>280){C("#colorpanel").css({top:J-183,left:L})}else{C("#colorpanel").css({top:J+N+5,left:L})}var M=E.target?C(E.target):H;if(M.data("color")==null){M.data("color",M.css("color"))}if(M.data("value")==null){M.data("value",M.val())}C("#CT tr td").unbind("click").mouseover(function(){var O=C(this).css("background-color");C(".DisColor").css("background",O);C("#HexColor").val(C(this).attr("rel"))}).click(function(){var O=C(this).attr("rel");O=E.ishex?O:G(O);M.val(O);if(E.fillcolor){M.css("color",O)}C("#colorpanel").hide();E.success(H,O)})})});function D(){C("body").append('<div id="colorpanel" style="position: absolute; display: none;"></div>');var H="";var I="";for(i=0;i<2;i++){for(j=0;j<6;j++){H=H+"<tr height=12>";H=H+'<td width=11 rel="#000000" style="background-color:#000000">';I=i==0?A[j]+A[j]+A[j]:B[j];H=H+'<td width=11 rel="#'+I+'" style="background-color:#'+I+'">';H=H+'<td width=11 rel="#000000" style="background-color:#000000">';for(k=0;k<3;k++){for(l=0;l<6;l++){I=A[k+i*3]+A[l]+A[j];H=H+'<td width=11 rel="#'+I+'" style="background-color:#'+I+'">'}}}}H='<table width=231 border="0" cellspacing="0" cellpadding="0" style="border:1px solid #000;"><tr height=30 ><td  colspan=21  class="tdboxshow"><table cellpadding="0" cellspacing="1" border="0" style="border-collapse: collapse"><tr><td width="3"><td><input type="text" class="DisColor" size="6" disabled style="border:solid 1px #000000;background-color:#ffff00;width:70px;"></td><td width="3"><td><input type="text" id="HexColor" size="7" style="border:inset 1px;font-family:Arial;width:80px;" value="#000000"><span id="_cclose" style="font-family: 微软雅黑;color: #fff;">关闭</span></td></tr></table></td></table><table id="CT" border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse" bordercolor="000000"  style="cursor:pointer;">'+H+"</table>";C("#colorpanel").html(H);C(document).on("click","#_cclose",function(){C("#colorpanel").hide();return false})}function G(I){var H;if(I&&I.constructor==Array&&I.length==3){I=I}if(H=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(I)){I=[parseInt(H[1]),parseInt(H[2]),parseInt(H[3])]}if(H=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(I)){I=[parseFloat(H[1])*2.55,parseFloat(H[2])*2.55,parseFloat(H[3])*2.55]}if(H=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(I)){I=[parseInt(H[1],16),parseInt(H[2],16),parseInt(H[3],16)]}if(H=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(I)){I=[parseInt(H[1]+H[1],16),parseInt(H[2]+H[2],16),parseInt(H[3]+H[3],16)]}return"rgb("+I[0]+","+I[1]+","+I[2]+")"}};jQuery.fn.colorpicker.defaults={ishex:true,fillcolor:false,target:null,event:"click",success:function(){},reset:function(){}}})(jQuery);

//oc.ui.alert.js
(function(C){function B(){}B.prototype={constructor:B,closeE:"oc.alert.click",divD:C('<div class="alert" style="position:absolute;display:none;z-index:9999999;"><button type="button" class="close" data-dismiss="alert">&times;</button></div>'),position:{my:"right-20 bottom-30",at:"right bottom",of:window,collision:"none"},timeout:5000,speed:200,objs:[],show:function(G,D){if(this.objs.length>0){this.objs[0].trigger(this.closeE)}var E=this,F=this.divD.clone(true);F.bind(E.closeE,function(){E.objs.splice(E.objs.indexOf(F.remove()),1);E.reDraw()}).find("button").click(function(){F.trigger(E.closeE)});D?F.addClass("alert-"+D):F.addClass("alert-info");F.append(G).appendTo(document.body).position(this.getPosition());this.objs.push(F.fadeIn(this.speed));setTimeout(function(){F.fadeOut(E.speed,function(){F.trigger(E.closeE)})},this.timeout)},getPosition:function(){var D=C.extend({},this.position);if(this.objs.length>0){D.at="right top";D.my="right top";D.of=this.objs[this.objs.length-1]}return D},reDraw:function(){var E=C.extend({},this.position);for(var G=this.objs,D=0,F=G.length;D<F;D++){if(D>0){E.at="right top";E.my="right top";E.of=G[D-1]}G[D].position(E)}}};var A=new B();window.palert=window.alert;window.alert=function(E,D){A.show(E,D)}})(jQuery);

//oc.ui.nav.js
(function(B){function A(C){this.cfg=B.extend({},this._defaults,C);if(typeof C.selector=="string"){C.selector=B(C.selector)}if(this._checkCfg(C)){this._init(C);this.jq.appendTo(C.selector);this._registPage()}}A.prototype={constructor:A,id:undefined,jq:undefined,cfg:undefined,_ul:undefined,_up:0,_down:0,_dom:{div:B('<div class="oc-nav"><ul class="nav-list" style="top:0px;"></ul><div class="nav-page"><span class="page-up test_up"></span> <span class="page-down test_down"></span></div></div>'),li:B('<li >	<div class="main-box-icon">     	<div class="oc-panel-pics"></div>		<div class="oc-panel-font"></div>	</div></li>')},_checkCfg:function(C){if(!C.selector){alert("没有提供表单项选择器或者表单项的jquery对象","error");return false}return true},_active:0,_defaults:{selector:undefined,textFiled:"name",hrefFiled:"href",iconFiled:"icon",filter:undefined,datas:[],click:B.noop,href:undefined,background:false},_registPage:function(){var F=this._ul,E=parseInt(F.css("top")),C=parseInt(F.height()),D=this;this._up.addClass("disabled").off("click");this._down.addClass("disabled").off("click");if(E!=0){this._up.removeClass("disabled").on("click",function(){D._upDown(true)})}if((E+C)>153){this._down.removeClass("disabled").on("click",function(){D._upDown()})}},_upDown:function(F){var E=this._ul,D=parseInt(E.css("top")),C=this;this._up.addClass("disabled").off("click");this._down.addClass("disabled").off("click");if(F){E.animate({top:(D+77)+"px"},300,function(){C._registPage()})}else{E.animate({top:(D-77)+"px"},300,function(){C._registPage()})}},_init:function(D){var C=this.jq=this._dom.div.clone();this._ul=C.find("> ul");this._up=C.find("span.page-up");this._down=C.find("span.page-down");if(D.href){this.reLoad(D.href)}else{if(D.datas){this.load(D.datas)}}},highLight:function(D){var C=this._ul.find(["data-id="+D]);if(C.length>0){C.addClass("active").siblings().removeClass("active")}},_liObj:{},active:function(C){this._liObj[C].click()},_beforeClick:{},setBeforeClick:function(D,C){this._beforeClick[D]=C},load:function(D){this.cfg.filter&&(D=this.cfg.filter(D));B.isArray(D)||(D=[]);var G=this,E=this._dom.li,I,K=this._ul.empty(),M,J=this.cfg.iconField,L=this.cfg.hrefFiled,H=this.cfg.textField;for(var F=0,C=D.length;F<C;F++){M=D[F];I=E.clone().attr("data-id",M.id).children("div").addClass("test_nav_"+M.id).end();I.click((function(N,O,R,P,Q){return function(T){T.preventDefault();if(G._active){var S=G._active.data("data-id"),V=O.id,U=G._beforeClick[S];if(U){if(!U(V)){return}}}if(G.cfg.click(N,O,R)){Q.find("li").removeClass("active");P.addClass("active");G._active=P}}}(M[L],M,D,I,K))).find(".oc-panel-font").addClass(M[J]).text(M[H]);this.cfg.background&&I.find(".oc-panel-pics ").attr('class',M.icon);I.attr("title",M.name);this._liObj[M.id]=I.appendTo(K)}this._registPage();if(G._active){G._active.addClass("active").siblings().removeClass("active")}},reLoad:function(C){var D=this;oc.util.ajax({url:C,success:function(E){D.cfg.datas=E;D.load(E)}})}};B.fn.extend({oc_nav:function(C){C.selector=B(this);return new A(C)}})})(jQuery);

//oc.ui.form.js
(function($){var _dateBoxDefaults={width:160,editable:true,placeholder:"${oc.local.ui.select.placeholder}"};var _numberBoxDefaults={width:160};var _numberSpinnerDefaults={width:160,increment:10,min:0,max:100,value:0};var _timeSpinnerDefaults={width:160,showSeconds:true};var _sliderDefaults={width:160,showTip:true};var _uploadOpts={url:oc.resource.getUrl("platform/file/fileUpload.htm"),type:"POST",iframe:true,data:{fileGroup:"Portal",fileId:0},timeout:300000,async:false,success:function(responseText,statusText,xhr,$form){},error:function(XMLHttpRequest,textStatus,errorThrown){alert("文件上传失败！");log(XMLHttpRequest,textStatus,errorThrown)}};function uploadify_onSelectError(file,errorCode,errorMsg){var msgText="上传失败\n";switch(errorCode){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:msgText+="每次最多上传 "+this.settings.uploadLimit+"个文件";break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:msgText+="文件大小超过限制( "+this.settings.fileSizeLimit+" )";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:msgText+="文件大小为0";break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:msgText+="文件格式不正确，仅限 "+this.settings.fileTypeExts;break;default:msgText+="错误代码："+errorCode+"\n"+errorMsg}alert(msgText)}function uploadify_onUploadError(file,errorCode,errorMsg,errorString){if(errorCode==SWFUpload.UPLOAD_ERROR.FILE_CANCELLED||errorCode==SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED){return}var msgText="上传失败\n";switch(errorCode){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:msgText+="HTTP 错误\n"+errorMsg;break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:msgText+="上传文件丢失，请重新上传";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:msgText+="IO错误";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:msgText+="安全性错误\n"+errorMsg;break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:msgText+="每次最多上传 "+this.settings.uploadLimit+"个";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:msgText+=errorMsg;break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:msgText+="找不到指定文件，请重新操作";break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:msgText+="参数错误";break;default:msgText+="文件:"+file.name+"\n错误码:"+errorCode+"\n"+errorMsg+"\n"+errorString}alert(msgText)}var _multiFileOpts={buttonClass:"oc-filestyle",formData:{fileGroup:"Portal",fileId:0},fileObjName:"file",swf:oc.resource.getUrl("resource/third/uploadify/uploadify.swf"),uploader:oc.resource.getUrl("platform/file/fileUpload.htm"),width:80,multi:true,auto:true,buttonText:"选择文件",fileSizeLimit:"5120KB",method:"post",removeCompleted:true,removeTimeout:0,onSelect:function(){},onSelectError:uploadify_onSelectError,onUploadError:uploadify_onUploadError};function gN(inp){if(inp.is("[name]")){return inp.attr("name")}return inp.find("[name]").attr("name")}function form(cfg){this.easyui=[];this.ocui=[];this.coms={};cfg=this.cfg=$.extend({},this._defaults,cfg);if(typeof cfg.selector=="string"){cfg.selector=$(cfg.selector)}cfg.selector.is("form")||(cfg.selector=cfg.selector.find("form"));this.jq=cfg.selector.form();this.jq.find("[required]").after('<span class="oc-valid-required-star">*</span>');if(cfg.combobox){this._initCombobox(cfg.combobox)}if(cfg.combotree){this._initCombotree(cfg.combotree)}if(cfg.combogrid){this._initCombogrid(cfg.combogrid)}if(cfg.datebox){this._initDatebox(cfg.datebox)}if(cfg.datetimebox){this._initDatetimebox(cfg.datetimebox)}if(cfg.numberbox){this._initNumberbox(cfg.numberbox)}if(cfg.numberspinner){this._initNumberspinner(cfg.numberspinner)}if(cfg.timespinner){this._initTimespinner(cfg.timespinner)}if(cfg.slider){this._initSlider(cfg.slider)}if(cfg.filebox){this._initFilebox(cfg.filebox)}if(cfg.multiFileBox){this._initMultiFileBox(cfg.multiFileBox)}this._initValid();this.selector=cfg.selector;if(cfg.loaded){setTimeout(cfg.loaded,300)}this._initVal=this.val()}form.prototype={constructor:form,id:undefined,jq:undefined,cfg:undefined,easyui:[],ocui:[],coms:{},filebox:[],multiFileBox:{},multiFileIds:[],_defaults:{combobox:[],combotree:[],combogrid:[],datebox:[],datetimebox:[],loaded:0},getInput:function(inpName){this.coms[inpName]},submitWithFile:function(ajaxOpts){if(this.validate()){var that=this,val=that.val();if(this.filebox.length>0){var filebox=this.filebox[0];filebox.selector.filebox("getValue")?this.jq.ajaxSubmit($.extend({},filebox,_uploadOpts,{success:function(responseText){var fileKey=Number($(responseText).text());if(fileKey){val.fileId=fileKey;ajaxOpts=$.extend(true,ajaxOpts,{data:val});oc.util.ajax(ajaxOpts)}else{alert("文件上传失败！")}}})):oc.util.ajax(ajaxOpts)}}},find:function(selector){return this.jq.find(selector)},disable:function(){this.disableValidation();this.jq.find(":input:not(:radio,:checkbox)").attr("readOnly",true);this.jq.find(":radio,:checkbox").attr("disabled",true);for(var i=0,len=this.easyui.length,ui;i<len;i++){ui=this.easyui[i];ui.selector[ui["uiType"]]("disable")}for(var i=0,len=this.ocui.length;i<len;i++){this.ocui[i].disable()}},enable:function(){this.enableValidation();this.jq.find(":input:not(:radio,:checkbox)").attr("readOnly",false);this.jq.find(":radio,:checkbox").attr("disabled",false);for(var i=0,len=this.easyui.length,ui;i<len;i++){ui=this.easyui[i];ui.selector[ui["uiType"]]("enable")}for(var i=0,len=this.ocui.length;i<len;i++){this.ocui[i].enable()}},val:function(obj){if(obj){this.jq.form("load",obj);return this}else{var json={},ps=this.jq.serialize(),p;ps=ps.replace(/(\d{1,4}-\d{1,2}-\d{1,2})\+(\d{1,2}:\d{1,2}:\d{1,2})/g,"$1 $2").replace(/\+/g," ");ps=ps.split("&");for(var i=0;i<ps.length;i++){p=ps[i].split("=");if(p[1]){p[1]=decodeURIComponent(p[1]);if(json[p[0]]){json[p[0]]+=","+p[1].toString().trim()}else{json[p[0]]=p[1].toString().trim()}}}if(this.cfg.multiFileBox){json.fileIds=this.multiFileIds.join()}return json}},multiFileVal:function(obj){if(obj){var jq=this.jq,that=this;var mfbox=this.multiFileBox;var fileItem=mfbox.fileItem;if(mfbox!=undefined){for(var i=0;i<obj.length;i++){var file=obj[i];var itemTemplate="";if(fileItem!=undefined&&fileItem!=""){itemTemplate=fileItem.replace("${fileId}",file.id).replace("${fileName}",file.name)}else{itemTemplate='<div id="'+file.id+'" class="uploadify-queue-item">				                    <div class="cancel">										<a href="javascript:void(0);">X</a>				                    </div>				                    <span class="fileName">'+file.name+"</span>				                </div>"}var showDetail;if(mfbox.showSelector){showDetail=jq.find(mfbox.showSelector)}else{showDetail=jq.find("#file_upload-queue")}showDetail.append(itemTemplate).find("#"+file.id).children(".cancel").children("a:first").bind("click",(function(f){return function(){that._deleteMultiFile(f.id)}})(file));that.multiFileIds.push(file.id)}}return this}else{var json={};if(this.cfg.multiFileBox){json.fileIds=this.multiFileIds.join()}return json}},load:function(url){this.jq.form("load",url)},clear:function(){this.jq.form("clear")},reset:function(){this.jq.form("reset");this.val(this._initVal)},validate:function(){return this.jq.form("validate")},getInValidate:function(){var jqs=this.jq.find(".validatebox-invalid");jqs.filter(":not(:disabled):first").focus();return jqs},disableValidation:function(inps){if(inps){inps=$.isArray(inps)?inps:[inps];for(var i=0,len=inps.length;i<len;i++){this.jq.find("[name="+inps[i]+"]").validatebox("disableValidation")}}else{this.jq.form("disableValidation")}},enableValidation:function(inps){if(inps){inps=$.isArray(inps)?inps:[inps];for(var i=0,len=inps.length;i<len;i++){this.jq.find("[name="+inps[i]+"]").validatebox("enableValidation")}}else{this.jq.form("enableValidation")}},hide:function(inps){if(inps){inps=$.isArray(inps)?inps:[inps];for(var i=0,len=inps.length;i<len;i++){this.jq.find("[name="+inps[i]+"]").closest(".form-group").hide()}}else{this.jq.hide()}},show:function(inps){if(inps){inps=$.isArray(inps)?inps:[inps];for(var i=0,len=inps.length;i<len;i++){this.jq.find("[name="+inps[i]+"]").closest(".form-group").hide()}}else{this.jq.show()}},_initValid:function(){this.jq.find("[validType],[required]").each(function(i,j){j=$(j);var isRequired=j.attr("required");var validType=j.attr("validType");if(validType&&(validType.indexOf("[")==0||validType.indexOf("{")==0)){validType=eval(validType)}j.validatebox({required:isRequired,validType:validType})})},_initSlider:function(cfg){var c,jq=this.jq;for(var i=0,len=cfg.length;i<len;i++){c=$.extend({},_sliderDefaults,cfg[i]);c.uiType="slider";c.selector=jq.find(c.selector).slider(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}},_initFilebox:function(cfg){var c,jq=this.jq;this.filebox=[];for(var i=0,len=cfg.length;i<len;i++){c=cfg[i];c.uiType="filebox";c.selector=jq.find(c.selector).filebox(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c);this.filebox.push(c)}},_initMultiFileBox:function(cfg){var c,jq=this.jq,that=this;this.multiFileBox={};this.multiFileIds=[];var selector=cfg.selector;var showSelector=cfg.showSelector;var fileItem=cfg.fileItem;c=$.extend({onUploadSuccess:function(file,data,response){var reg=/^[0-9]*[1-9][0-9]*$/;if(file&&reg.test(data)){var itemTemplate="";if(fileItem!=undefined&&fileItem!=""){itemTemplate=fileItem.replace("${fileId}",data).replace("${fileName}",file.name)}else{itemTemplate='<div id="'+data+'" class="uploadify-queue-item">			                    <div class="cancel">									<a href="javascript:void(0);">X</a>			                    </div>			                    <span class="fileName">'+file.name+"</span>			                </div>"}var showDetail;if(showSelector){showDetail=jq.find(showSelector)}else{showDetail=jq.find("#file_upload-queue")}showDetail.append(itemTemplate).find("#"+data).find(".cancel a:first").bind("click",(function(d){return function(){jq.find(selector).uploadify("cancel",file.id);that._deleteMultiFile(d)}})(data));that.multiFileIds.push(data);jq.find(selector).uploadify("settings","buttonText","继续上传");if(cfg.uploadSuccess){cfg.uploadSuccess(file,data,response)}}else{alert("文件上传失败！")}}},_multiFileOpts,cfg);jq.find(selector).uploadify(c);this.easyui.push(c);this.multiFileBox=c},_deleteMultiFile:function(fileId){var jq=this.jq,that=this;oc.util.ajax({url:oc.resource.getUrl("platform/file/deleteFile.htm"),async:false,data:{fileId:fileId},success:function(s){if(that.multiFileBox.showSelector){jq.find(that.multiFileBox.showSelector).find("#"+fileId).remove()}else{jq.find("#file_upload-queue").find("#"+fileId).remove()}that.multiFileIds.splice(that.multiFileIds.indexOf(fileId),1);if(that.multiFileIds==undefined||that.multiFileIds.length<=0){jq.find(that.multiFileBox.selector).uploadify("settings","buttonText","选择文件")}},successMsg:""})},_initNumberspinner:function(cfg){var c,jq=this.jq;for(var i=0,len=cfg.length;i<len;i++){c=$.extend({},_numberSpinnerDefaults,cfg[i]);c.uiType="numberspinner";c.selector=jq.find(c.selector).numberspinner(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}},_initTimespinner:function(cfg){var c,jq=this.jq,time=new Date().stringify("hh:MM:ss");for(var i=0,len=cfg.length;i<len;i++){c=$.extend({value:time},_timeSpinnerDefaults,cfg[i]);c.uiType="timespinner";c.selector=jq.find(c.selector).timespinner(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}},_initNumberbox:function(cfg){var c,jq=this.jq;for(var i=0,len=cfg.length;i<len;i++){c=$.extend({},_numberBoxDefaults,cfg[i]);c.uiType="numberbox";c.selector=jq.find(c.selector).numberbox(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}},_initCombobox:function(boxCfg){var box,jq=this.jq;for(var i=0,len=boxCfg.length;i<len;i++){box=boxCfg[i];box.selector=jq.find(box.selector);this.ocui.push(this.coms[gN(box.selector)]=oc.ui.combobox(box))}},_initCombotree:function(treeCfg){var tree,jq=this.jq;for(var i=0,len=treeCfg.length;i<len;i++){tree=treeCfg[i];tree.selector=jq.find(tree.selector);this.ocui.push(this.coms[gN(tree.selector)]=oc.ui.combotree(tree))}},_initCombogrid:function(gridCfg){var grid,jq=this.jq;for(var i=0,len=gridCfg.length;i<len;i++){grid=gridCfg[i];grid.selector=jq.find(grid.selector);this.ocui.push(this.coms[gN(grid.selector)]=oc.ui.combogrid(grid))}},_initDatebox:function(cfg){var c,jq=this.jq,date=new Date().stringify("yyyy-mm-dd");for(var i=0,len=cfg.length;i<len;i++){c=$.extend({value:date},_dateBoxDefaults,cfg[i]);c.uiType="datebox";c.selector=jq.find(c.selector).datebox(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}},_initDatetimebox:function(cfg){var c,jq=this.jq,date=new Date().stringify();for(var i=0,len=cfg.length;i<len;i++){c=$.extend({value:date},_dateBoxDefaults,cfg[i]);c.uiType="datetimebox";c.selector=jq.find(c.selector).datetimebox(c);this.coms[gN(c.selector)]=c.selector;this.easyui.push(c)}}};oc.ui.form=function(cfg){return new form(cfg)}})(jQuery);

//oc.ui.combobox.js
(function(B){B.fn.textbox.methods.setText=function(C,D){return C.each(function(){var F=B(this).textbox("options");var E=B(this).textbox("textbox");if(B(this).textbox("getText")!=D){F.value=D;E.attr("title",D);E.val(D)}if(!E.is(":focus")){if(D){E.removeClass("textbox-prompt")}else{E.attr("title",F.prompt);E.val(F.prompt).addClass("textbox-prompt")}}B(this).textbox("validate")})};B.fn.textbox.methods.initValue=function(C,D){return C.each(function(){var E=B.data(this,"textbox");E.options.value="";B(this).textbox("setText",D);E.textbox.find(".textbox-value").val(D);B(this).attr("title",D);B(this).val(D)})};function A(D){if(D.dictType){D.data=oc.util.getDict(D.dictType);D.valueField="code"}var C=this._cfg=B.extend({},this._defaults,this.cfg=D);if(this._checkCfg(C)){this.input=(typeof C.selector=="string")?B(C.selector):C.selector;this._filterCfg(C);this.jq=this.input.on(oc.events.form.loaded,function(F,E){if(C.loaded){C.loaded(E)}}).combobox(C);if(D.url){this.reLoad(D.url,this._selected)}else{if(D.data){this.load(D.data,this._selected)}}}}A.prototype={constructor:A,id:undefined,jq:undefined,input:undefined,cfg:undefined,_cfg:undefined,_checkCfg:function(C){if(!C.selector){alert("没有提供表单项选择器或者表单项的jquery对象","error");return false}return true},_selected:function(C){var F=this._cfg.selected,D=typeof F,E;if(D=="string"){this.input.combobox("setValue",F)}else{if(D=="number"&&(E=C.length)>0){(F>=E)&&(F=E-1);this.input.combobox("setValue",C[F][this._cfg.valueField])}}},_defaults:{selector:undefined,url:undefined,cache:true,filter:undefined,valueField:"id",textField:"name",editable:false,selected:0,dictType:null,width:160,ignVal:null,placeholder:"${oc.local.ui.select.placeholder}",data:[],loaded:undefined},disable:function(){this.jq.combo("disable")},enable:function(){this.jq.combo("enable")},reLoad:function(C,E){var D=this;oc.util.ajax({url:C,successMsg:null,failureMsg:null,success:function(F){D.load(F,E)}})},load:function(G,D){var E=this._cfg,F=this.cfg;F.filter&&(G=F.filter(G));G=G?G.concat():[];B.isArray(G)||(G=[]);E.ignVal&&B.each(E.ignVal,function(H,I){B.each(G,function(K,J){if(J[E.valueField]==I){G.splice(K,1);return false}})});if(E.placeholder){var C={};C[E.valueField]="";C[E.textField]=E.placeholder.toI18n();G.unshift(C)}E.data=G;E.panelHeight=G.length*36+5;E.panelHeight>202&&(E.panelHeight=202);this.jq=this.input.combobox(E);D&&D.call(this,G)},_filterCfg:function(C){C.url=undefined;C.data=undefined;C.filter=undefined}};oc.ui.combobox=function(C){return new A(C)}})(jQuery);

//oc.ui.combotree.js
(function(B){function A(F){if(F.dictType){F.data=oc.util.getDict(F.dictType);F.valueField="code";F.pField="pcode"}var E=this._cfg=B.extend({},this._defaults,this.cfg=F),D=this;if(this._checkCfg(E)){this.input=(typeof E.selector=="string")?B(E.selector):E.selector;this._filterCfg(E);if(E.onChange){var C=E.onChange;E.onChange=function(G,H){C(G,H,D._data[G],D._data[H])}}this.jq=this.input.on(oc.events.form.loaded,function(H,G){if(E.loaded){E.loaded(G)}}).combotree(E);if(F.url){this.reLoad(F.url)}else{if(F.data){this.load(F.data)}}}}A.prototype={constructor:A,id:undefined,jq:undefined,input:undefined,cfg:undefined,_cfg:undefined,_data:{},_checkCfg:function(C){if(!C.selector){alert("没有提供表单项选择器或者表单项的jquery对象","error");return false}return true},_defaults:{selector:undefined,url:undefined,cache:true,filter:undefined,valueField:"id",textField:"name",pField:"pid",editable:false,onChange:undefined,selectedMode:"all",width:160,ignVal:null,placeholder:"${oc.local.ui.select.placeholder}",data:[],loaded:undefined},disable:function(){this.jq.combotree("disable")},enable:function(){this.jq.combotree("enable")},reLoad:function(C){var D=this;oc.util.ajax({url:C,successMsg:null,failureMsg:null,success:function(E){D.load(E)}})},load:function(D){var J=this._cfg,K=this.cfg;K.filter&&(D=K.filter(D));D=D?D.concat():[];B.isArray(D)||(D=[]);if(J.placeholder){var H={};H[J.valueField]="";H[J.textField]=J.placeholder.toI18n();H.iconCls="oc-blank-image";D.unshift(H)}if(J.valueField!="id"||J.textField!="text"){for(var F=0,I=D.length,C,G=this._data;F<I;F++){C=D[F];C.id=C[J.valueField];C.text=C[J.textField];G[C.id]=C}}J.ignVal&&B.each(J.ignVal,function(L,M){B.each(D,function(O,N){if(N[J.valueField]==M){D.splice(O,1);return false}})});J.panelHeight=D.length*27;J.panelHeight>202&&(J.panelHeight=202);var E=oc.util.arr2tree(D,"id",J.pField,"children");D=E[0];J.data=D;this.jq=this.input.combotree(J);if(J.placeholder&&!J.value&&!this.jq.val()){this.jq.combotree("setValue","")}},_filterCfg:function(C){C.url=undefined;C.data=undefined;C.filter=undefined}};oc.ui.combotree=function(C){return new A(C)}})(jQuery);

//oc.ui.combogrid.js
(function(B){function A(M){var K=this._cfg=B.extend({},this._defaults,this.cfg=M);if(this._checkCfg(K)){this.input=(typeof K.selector=="string")?B(K.selector):K.selector;this._filterCfg(K);var D=2,H=0;for(var E=K.columns,G=0,I=E.length;G<I;G++){for(var F=0,C=E[G],J=C.length,L;F<J;F++){L=C[F];H+=L.width||(L.width=80)}D+=J}K.panelWidth=H+D;this.jq=this.input.on(oc.events.form.loaded,function(O,N){if(K.loaded){K.loaded(N)}}).combogrid(K);if(M.url){this.reLoad(M.url)}else{if(M.data){this.load(M.data)}}}}A.prototype={constructor:A,id:undefined,jq:undefined,input:undefined,cfg:undefined,_cfg:undefined,_checkCfg:function(C){if(!C.selector){alert("没有提供表单项选择器或者表单项的jquery对象","error");return false}if(!C.columns){alert("没有配置下拉grid的列：columns","error");return false}return true},_defaults:{selector:undefined,url:undefined,cache:true,filter:undefined,idField:"id",textField:"name",editable:false,width:160,ignVal:null,placeholder:"${oc.local.ui.select.placeholder}",data:[],loaded:undefined},disable:function(){this.jq.combogrid("disable")},enable:function(){this.jq.combogrid("enable")},reLoad:function(C){var D=this;oc.util.ajax({url:C,successMsg:null,failureMsg:null,success:function(E){D.load(E)}})},load:function(E){var C=this._cfg,D=this.cfg;D.filter&&(E=D.filter(E));B.isArray(E)||(E=[]);C.ignVal&&B.each(C.ignVal,function(F,G){B.each(E,function(I,H){if(H[C.valueField]==G){E.splice(I,1);return false}})});C.data=E;C.panelHeight=E.length*27+77;C.panelHeight>202&&(C.panelHeight=202);this.jq=this.input.combogrid(C).trigger(oc.events.form.loaded,E);if(!C.value){this.jq.combogrid("setValue"," ")}},_filterCfg:function(C){C.url=undefined;C.data=undefined;C.filter=undefined}};oc.ui.combogrid=function(C){return new A(C)}})(jQuery);

//oc.ui.picktree.js
(function(f){var a;function e(g){if(this.checkCfg(g)){this._cfg=g;this.selector=(typeof g.selector=="string")?f(g.selector):g.selector;this._initPanel(g);this._initTree()}}function d(h,g){var i=f.fn.zTree.getZTreeObj(h);var j=i.getCheckedNodes(true);if(!j||j==null||j.length==0){alert("请先选择需要移动的节点！");return false}oc.ui.progress();setTimeout(function(){for(var n=0;n<j.length;n++){if(j[n].check_Child_State!=1&&j[n].check_Child_State!=0){i.removeNode(j[n])}}var p=f.fn.zTree.getZTreeObj(g);var t=c([],j);var q=[];for(var l=0;l<t.length;l++){var r=p.getNodesByParam("id",t[l].id);if(r==null||r.length==0){q.push(t[l])}}var s=p.transformTozTreeNodes(q);for(var m=0;m<s.length;m++){var o=p.getNodesByParam("id",s[m].pId,null);p.addNodes(o[0],s[m]);if(o[0]){b(p,o[0].id)}}if(a._cfg.onMoveSuccess){a._cfg.onMoveSuccess(a.getLeftTreeData(),a.getRightTreeData())}f.messager.progress("close")},350)}function b(j,g){var h=j.getNodesByParam("id",g,null);if(h){var i=h[0];j.checkNode(i,true,false);if(i.pId!=null&&i.pId!=0){b(j,i.pId)}}}function c(k,h){for(var g=0;g<h.length;g++){var j=new Object();j.id=h[g].id;j.pId=h[g].pId==null?0:h[g].pId;j.open=h[g].open;j.name=h[g].name;j.children=[];j.isParent=h[g].isParent;j.nocheck=h[g].nocheck;j.checked=h[g].checked;j.level=h[g].level;j.tId=h[g].tId;j.parentTId=h[g].parentTId;j.zAsync=h[g].zAsync;j.isFirstNode=h[g].isFirstNode;j.isLastNode=h[g].isLastNode;j.isAjaxing=h[g].isAjaxing;j.checkedOld=h[g].checkedOld;j.chkDisabled=h[g].chkDisabled;j.halfCheck=h[g].halfCheck;j.check_Child_State=h[g].check_Child_State;j.check_Focus=h[g].check_Focus;j.isHover=h[g].isHover;j.editNameFlag=h[g].editNameFlag;j.extendAttribute=h[g].extendAttribute;k.push(j)}return k}e.prototype={isInteractive:true,selector:"",constructor:e,leftUrl:"",rightUrl:"",leftTreeObj:undefined,rightTreeObj:undefined,leftNodes:[],rightNodes:[],dataType:"array",_cfg:{},setting:{check:{enable:true,chkboxType:{"Y":"ps","N":"ps"}},data:{simpleData:{enable:true,idKey:"id",pIdKey:"pId",rootPId:null}},view:{showIcon:false,nameIsHTML:true,fontCss:{}},async:{enable:true,url:"",autoParam:["id"],dataType:"json",dataFilter:function(i,h,g){return g.data},otherParam:undefined},callback:{}},leftTreeId:undefined,rightTreeId:undefined,_dom:{div:'<div class="oc-pickList" style="height:100%;">'+'<div class="pickList-left-width">'+'<div class="pickList-left pickList_bgstylea">'+'<div id="showZTreeInfoPanel" style="width: 100%; height: 100%; overflow: auto;"><ul class="ztree"></ul></div>'+"</div>"+"</div>"+'<div class="pickList-center">'+'<div class="tab-tree-arrow">'+'<a class="tree-arrow-right"></a>'+'<a class="tree-arrow-left"></a>'+"</div>"+"</div>"+'<div class="pickList-right-width" style="float:right;">'+'<div class="pickList-right pickList_bgstylea">'+'<div style="width: 100%; height: 94%; overflow: auto;"><ul class="ztree"></ul></div>'+"</div>"+"</div>"+"</div>"},_initPanel:function(g){var k=this;var j=this.leftTreeId=oc.util.generateId();var l=this.rightTreeId=oc.util.generateId();var m=f(this._dom.div);m.find(".pickList-left .ztree").attr("id",j);m.find(".pickList-right .ztree").attr("id",l);m.appendTo(this.selector);var i=g.search;if(i){var h='<div style="position:relative;width:100%;display:inline-block;height: 25px;">'+'<input id="pickTreeSearchText" type="text" placeholder="'+i.searchText+'" style="width:99%; line-height: 22px;">'+'<span id="pickTreeSearchBtn" class="ico ico-search" style="position:absolute;top:2px;right:4px;" data-field="searchBtn"></span>'+"</div>";m.find(".pickList-left-width .pickList-left").prepend(h);m.find("#pickTreeSearchText").fixPlaceHolder().bind("keyup",function(p){if(p.keyCode==13){var o=m.find("#pickTreeSearchText").val();var n=i.onSearch(o);n&&k.reload(n,"left")}});m.find("#pickTreeSearchBtn").bind("click",function(){var o=m.find("#pickTreeSearchText").val();var n=i.onSearch(o);n&&k.reload(n,"left")});m.find("#showZTreeInfoPanel").height("92%")}if(!this.isInteractive){m.find(".tab-tree-arrow").hide()}else{m.find(".tree-arrow-right").bind("click",function(){d(j,l)});m.find(".tree-arrow-left").bind("click",function(){d(l,j)})}},_initTree:function(){oc.ui.progress();var h=this;var i=f.extend(true,{},this.setting);i.callback=f.extend({},this.setting.callback,this._cfg.leftCallback);i.async.url=this.leftUrl;i.callback.onAsyncSuccess=function(){if(h._cfg.leftCallback&&h._cfg.leftCallback.onAsyncSuccess){h._cfg.leftCallback.onAsyncSuccess()}f.messager.progress("close")};if(h._cfg.leftParam){i.async.otherParam=h._cfg.leftParam}if(h._cfg.leftFontCss){i.view.fontCss=h._cfg.leftFontCss}this.leftTreeObj=f.fn.zTree.init(f("#"+this.leftTreeId),i,this.leftNodes);var g=f.extend(true,{},this.setting);g.callback=f.extend({},this.setting.callback,this._cfg.rightCallback);g.async.url=this.rightUrl;if(h._cfg.rightParam){g.async.otherParam=h._cfg.rightParam}if(h._cfg.rightFontCss){g.view.fontCss=h._cfg.rightFontCss}this.rightTreeObj=f.fn.zTree.init(f("#"+this.rightTreeId),g,this.rightNodes)},getLeftTreeData:function(){var h=f.fn.zTree.getZTreeObj(this.leftTreeId);if(this.dataType=="json"){return h.getNodes()}else{var g=h.transformToArray(h.getNodes());return c([],g)}},getRightTreeData:function(){var h=f.fn.zTree.getZTreeObj(this.rightTreeId);if(this.dataType=="json"){return h.getNodes()}else{var g=h.transformToArray(h.getNodes());return c([],g)}},getLeftTreeeCheckedData:function(){var i=f.fn.zTree.getZTreeObj(this.leftTreeId);var g=c([],i.getCheckedNodes(true));if(this.dataType=="json"){var h=i.transformTozTreeNodes(g);return h}else{return g}},getRightTreeeCheckedData:function(){var i=f.fn.zTree.getZTreeObj(this.rightTreeId);var g=c([],i.getCheckedNodes(true));if(this.dataType=="json"){var h=i.transformTozTreeNodes(g);return h}else{return g}},reload:function(h,g){if(g=="l"||g=="left"){this.leftNodes=h;f.fn.zTree.init(f("#"+this.leftTreeId),this.setting,this.leftNodes)}else{if(g=="r"||g=="right"){this.rightNodes=h;f.fn.zTree.init(f("#"+this.rightTreeId),this.setting,this.rightNodes)}}},queryTree:function(i){var h;copyIdx=0;var g=f.fn.zTree.getZTreeObj(this.leftTreeId);h=g.getNodesByParamFuzzy("name",i,null);if(copyIdx<h.length){g.expandNode(h[copyIdx],true,true,true);g.selectNode(h[copyIdx])}},checkCfg:function(g){if(g){if(!g.selector){alert("没有提供选择器或者jquery对象","error");return false}if(g.leftNodes){this.leftNodes=g.leftNodes}else{if(g.lUrl){if(g.async!=undefined&&!g.async){var h=[];oc.util.ajax({url:g.lUrl,async:false,success:function(i){h=i.data}});this.leftNodes=h}else{this.leftUrl=g.lUrl}}}if(g.rightNodes){this.rightNodes=g.rightNodes}else{if(g.rUrl){if(g.async!=undefined&&!g.async){var h=[];oc.util.ajax({url:g.rUrl,async:false,success:function(i){h=i.data}});this.rightNodes=h}else{this.rightUrl=g.rUrl}}}if(g.dataType){this.dataType=g.dataType}if(!g.isInteractive){this.isInteractive=g.isInteractive}}return true}};oc.ui.picktree=function(g){a=new e(g);return a}})(jQuery);function buildNodes(a){var d="";for(var c=0;c<a.length;c++){if(a[c].isParent){var e=new a[c];d+=e.id+",";for(var b=0;b<a.length;b++){if(a[b].pId==e.id){e.children.push(a[b]);d+=a[b].id+","}}}}};

//oc.ui.pickgrid.js
(function(G){var H;function B(J){var I=this._cfg=G.extend({},this._defaults,J);if(this.checkCfg(I)){this.selector=(typeof I.selector=="string")?G(I.selector):I.selector;this._initPanel(I);this._loadData(I)}}function C(K,L,M){var I=G("#"+K);var N=G("#"+L);var J=I.datagrid("getSelections");if(J&&J.length>0){oc.ui.progress();setTimeout(function(){setTimeout(function(){function O(W,Q){if(Q&&Q.length>0){var S=100;var X=Q.length;var R=X/S;var T=Math.ceil(R);var U=0;function V(){if(U<T){var Y=[];if(U+1==T){Y=Q.slice(U*S,Q.length)}else{Y=Q.slice(U*S,(U+1)*S)}setTimeout(function(){D(W,Y);U++;V()},0)}}V()}}if(H._cfg.moveBeforeEvent){var P=H._cfg.moveBeforeEvent(J,M);if(A(P)){O(L,P)}}else{O(L,J)}},0);setTimeout(function(){if(J&&J.length>0){var Q=100;var S=J.length;var R=S/Q;var T=Math.ceil(R);var O=0;function P(){if(O<T){var U=[];if(O+1==T){U=J.slice(O*Q,J.length)}else{U=J.slice(O*Q,(O+1)*Q)}setTimeout(function(){O++;E(K,U,(O==T)?true:false,L,M,P)},0)}}P()}},0)},350)}else{alert("请选择要移动的数据！")}}function D(J,L){var M=G("#"+J);var I=0;K();function K(){if(I<L.length){setTimeout(function(){M.datagrid("appendRow",L[I]);var N=M.datagrid("getRowIndex",L[I]);M.datagrid("scrollTo",N);I++;K()},0)}else{M.datagrid("unselectAll");M.datagrid("uncheckAll")}}}function E(J,I,N,O,L,P){var Q=G("#"+J);var M=0;K();function K(){if(M<I.length){setTimeout(function(){var T=Q.datagrid("getRowIndex",I[M]);Q.datagrid("deleteRow",T);Q.datagrid("scrollTo",T);M++;K()},0)}else{if(N){var R=Q.datagrid("getRows");var S=G("#"+O).datagrid("getRows");if(!R||R.length==0){Q.prev().find("input[type=checkbox]").attr("checked",false)}H._cfg.onMoveSuccess&&H._cfg.onMoveSuccess(R,S,L);G.messager.progress("close")}else{P()}}}}function F(K,L){var M=G("#"+K);var I=M.datagrid("getRows");for(var J=0;J<L.length;J++){I.push(L[J])}M.datagrid("loadData",I)}B.prototype={isInteractive:true,constructor:B,leftGridId:"",rightGridId:"",leftGrid:null,rightGrid:null,_cfg:undefined,_dom:{div:'<div class="oc-pickList" style="height:100%;"><div class="pickList-left-width"><div class="pickList-left"><div class="oc_ui_pickgrid" style="height: 100%;overflow: auto;"></div></div></div><div class="pickList-center"><div class="tab-tree-arrow"><a class="tree-arrow-right"></a><a class="tree-arrow-left"></a></div></div><div class="pickList-right-width"><div class="pickList-right"><div class="oc_ui_pickgrid" style="height: 100%; overflow: auto;"></div></div></div></div>'},_defaults:{selector:"",leftColumns:[],rightColumns:[],leftUrl:"",leftQueryForm:undefined,rightUrl:"",rightQueryForm:undefined,isInteractive:true},_initPanel:function(K){var J=this.leftGridId=oc.util.generateId();var I=this.rightGridId=oc.util.generateId();var L=G(this._dom.div);L.find('.pickList-left').css('height',this.selector.height());L.find('.pickList-right').css('height',this.selector.height());L.find(".pickList-left .oc_ui_pickgrid").attr("id",J);L.find(".pickList-right .oc_ui_pickgrid").attr("id",I);L.appendTo(this.selector);if(!K.isInteractive){L.find(".tab-tree-arrow").hide()}else{L.find(".tree-arrow-right").click(function(){C(J,I,"right")});L.find(".tree-arrow-left").click(function(){C(I,J,"left")})}},_loadData:function(L){var J=this.leftGridId;var M=this.rightGridId;var I={selector:"#"+J,url:L.leftUrl,pagination:false,columns:L.leftColumns,autoRowHeight:false,queryForm:L.leftQueryForm};this.leftGrid=oc.ui.datagrid(G.extend({},I,this._cfg.leftOptions));var K={selector:"#"+M,url:L.rightUrl,pagination:false,columns:L.rightColumns,autoRowHeight:false,queryForm:L.rightQueryForm};this.rightGrid=oc.ui.datagrid(G.extend({},K,this._cfg.rightOptions))},getLeftSelectionsRows:function(){return this.leftGrid.getSelections()},getRightSelectionsRows:function(){return this.rightGrid.getSelections()},getLeftRows:function(){var I=G("#"+this.leftGridId);return I.datagrid("getRows")},getRightRows:function(){var I=G("#"+this.rightGridId);return I.datagrid("getRows")},reload:function(I,J){if(I=="l"||I=="left"){this.leftGrid.reLoad(J)}else{if(I=="r"||I=="right"){this.rightGrid.reLoad(J)}}},loadData:function(I,J){if(I=="l"||I=="left"){this.leftGrid.selector.datagrid("loadData",J)}else{if(I=="r"||I=="right"){this.rightGrid.selector.datagrid("loadData",J)}}},checkCfg:function(I){if(I){if(!I.selector){alert("没有提供选择器或者jquery对象","error");return false}return true}return false}};oc.ui.pickgrid=function(I){H=new B(I);return H};var A=function(I){return Object.prototype.toString.call(I)==="[object Array]"}})(jQuery);

//oc.ui.toolbar.js
(function(B){function A(C){C=this.cfg=B.extend(true,{},this._defaults,C);this._init()}A.prototype={constructor:A,cfg:undefined,jq:undefined,enable:function(F){var D=this.btns,E=D.length;if(typeof F=="number"){if(F<0){F=0}if(F>E-1){return}D[F].attr("disabled",false)}else{for(var C=0;C<E;C++){D[C].attr("disabled",false)}}},disable:function(F){var D=this.btns,E=D.length;if(typeof F=="number"){if(F<0){F=0}if(F>E-1){return}D[F].attr("disabled",true)}else{for(var C=0;C<E;C++){D[C].attr("disabled",true)}}},_dom:{toolbar:'<div class="oc-toolbar"><div class="clear"/></div>',leftClass:"left",rightClass:"right"},_defaults:{left:[],right:[],selector:undefined,btn:{id:0,onClick:undefined}},_init:function(){var D=this.jq=B(this._dom.toolbar),K=this.cfg,L=D.find("div.clear");if(K.left&&B.isArray(K.left)){for(var G=0,F=K.left,J=F.length,H=this._dom.leftClass,I;G<J;G++){I=this._generateObj(F[G],H);I&&L.before(I)}}if(K.right&&B.isArray(K.right)){for(var G=0,C=K.right,J=C.length,E=this._dom.rightClass,I;G<J;G++){I=this._generateObj(C[G],E);I&&(L=I.insertBefore(L))}}if(K.selector){if(typeof K.selector=="string"){K.selector=B(K.selector)}K.selector.append(D)}},_generateObj:function(C,D){if(C){var E=B("<div><a/><div/>").addClass(D),F;if(B.isPlainObject(C)){C=B.extend({},this._defaults,C);F=B("<a "+(C.id?('id="'+C.id+'"'):"")+"/>").appendTo(E).linkbutton("RenderLB",C);if(F.onClick){F.click(F.onClick)}}else{E.append(C)}return E}}};oc.ui.toolbar=function(C){return new A(C)}})(jQuery);

//oc.ui.datagrid.js
(function(D){function B(E,G){var F=D.data(E,"datagrid");var H=F.options.view;H.insertRow.call(H,E,null,G);F.insertedRows.push(G);D(E).datagrid("getPager").pagination("refresh",{total:F.data.total})}D.fn.datagrid.methods.appendRow=function(E,F){return E.each(function(){B(this,F);var G=D.data(this,"datagrid").options;G.onAppendRow&&G.onAppendRow()})};D.fn.datagrid.defaults.noDataMsg="抱歉，没有可展示的数据！";D.fn.datagrid.defaults.finder.getTr=function(Q,P,O,M){O=O||"body";M=M||0;var H=D.data(Q,"datagrid");var G=H.dc;var K=H.options;if(M==0){var L=K.finder.getTr(Q,P,O,1);var J=K.finder.getTr(Q,P,O,2);return L.add(J)}else{var R=">.table-datanull>table>tbody>tr";if(O=="body"){var N=D("#"+H.rowIdPrefix+"-"+M+"-"+P);if(!N.length){N=(M==1?G.body1:G.body2).find(R+"[datagrid-row-index="+P+"]")}return N}else{if(O=="footer"){return(M==1?G.footer1:G.footer2).find(">table>tbody>tr[datagrid-row-index="+P+"]")}else{if(O=="selected"){var I=(M==1?G.body1:G.body2).find(R+".datagrid-row-selected");if(!I||I.length<=0){I=(M==1?G.body1:G.body2).find(">table>tbody>tr.datagrid-row-selected")}return I}else{if(O=="highlight"){return(M==1?G.body1:G.body2).find(R+".datagrid-row-over")}else{if(O=="checked"){var E=(M==1?G.body1:G.body2),F=E.find(".datagrid-row-checked");if(F.length==0){F=E.find(R+".datagrid-row-checked")}return F}else{if(O=="last"){var E=(M==1?G.body1:G.body2),F=E.find(R+"[datagrid-row-index]:last");if(F.length==0){F=E.find(">table>tbody>tr[datagrid-row-index]:last")}return F}else{if(O=="allbody"){var E=(M==1?G.body1:G.body2),F=E.find(R+"[datagrid-row-index]");if(F.length==0){F=E.find(">table>tbody>tr[datagrid-row-index]")}return F}else{if(O=="allfooter"){return(M==1?G.footer1:G.footer2).find(R+"[datagrid-row-index]")}}}}}}}}}};D.fn.datagrid.methods.updateRow=function(E,F){return E.each(function(){var G=D.data(this,"datagrid").options;G.view.updateRow.call(G.view,this,F.index,F.row);G.onUpdateRow&&G.onUpdateRow()})};D.extend(D.fn.datagrid.defaults,{fitColumns:true,loadMsg:"加载数据，请稍候...",pagination:true,fit:true,queryForm:0,queryConditionPrefix:"condition.",onBeforeLoad:function(F){F.startRow=F.page?((F.page-1)*F.rows):0;F.rowCount=F.rows;var E=D(this).datagrid("options");if(E.queryForm){var G=E.queryForm.val(),I=E.queryConditionPrefix||"";for(var H in G){F[I+H]=G[H]}}return true},loadFilter:function(E){if(Object.prototype.toString.call(E)==="[object Array]"){var F={};F.rows=E;F.total=E.length;return F}else{if(E.code==200){E=E.data;E.total=E.totalRecord}else{E.total=0;E.rows=[]}return E}}});D.extend(D.fn.datagrid.defaults.view,{render:function(S,T,L){var J=D.data(S,"datagrid");var O=J.options;var F=J.data.rows,N=F?F.length:0;var I=D(S).datagrid("getColumnFields",L),E;if(L){if(!(O.rownumbers||(O.frozenColumns&&O.frozenColumns.length))){return}}if(N==0){if(L){E=D("<div class='table-datanull'></div>"),_tbody=E.find("tbody:first")}else{E=D("<div class='table-datanull'><div class='table-dataRemind'>"+O.noDataMsg+"</div></div>"),_tbody=E.find("tbody:first")}}else{E=D('<div class=\'table-datanull\'><table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody></tbody></table></div>'),_tbody=E.find("tbody:first");for(var M=0;M<F.length;M++){var R=O.rowStyler?O.rowStyler.call(S,M,F[M]):"";var G="";var P="";if(typeof R=="string"){P=R}else{if(R){G=R["class"]||"";P=R["style"]||""}}var K='class="datagrid-row '+(M%2&&O.striped?"datagrid-row-alt ":" ")+G+'"';var Q=P?'style="'+P+'"':"";var H=J.rowIdPrefix+"-"+(L?1:2)+"-"+M;_tbody.append(D('<tr id="'+H+'" datagrid-row-index="'+M+'" '+K+" "+Q+"></tr>").append(this.renderRow.call(this,S,I,L,M,F[M])))}}T.empty().append(E)},renderFooter:function(M,N,I){var K=D.data(M,"datagrid").options;var E=D.data(M,"datagrid").footer||[];var G=D(M).datagrid("getColumnFields",I);var H=D('<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody></tbody></table>'),J=H.find("tbody:first"),F;for(var L=0;L<E.length;L++){F=D('<tr class="datagrid-row" datagrid-row-index="'+L+'"></tr>').append(this.renderRow.call(this,M,G,I,L,E[L]));J.append(F)}D(N).append(H)},renderRow:function(P,T,K,E,G){var V=D.data(P,"datagrid").options;var U=D("<div></div>"),J,Q,F,I,W;if(K&&V.rownumbers){var R=E+1;if(V.pagination){R+=(V.pageNumber-1)*V.pageSize}U.append('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+R+"</div></td>")}for(var L=0;L<T.length;L++){Q=[];var X=T[L];var a=D(P).datagrid("getColumnOption",X);if(a){var N=G[X];var H=a.styler?(a.styler(N,G,E)||""):"";var Y="";var S="";if(typeof H=="string"){S=H}else{if(H){Y=H["class"]||"";S=H["style"]||""}}var O=Y?'class="'+Y+'"':"";var Z=a.hidden?'style="display:none;'+S+'"':(S?'style="'+S+'"':"");Q.push('<td field="'+X+'" '+O+" "+Z+">");var Z="";if(!a.checkbox){if(a.align){Z+="text-align:"+a.align+";"}if(!V.nowrap){Z+="white-space:normal;height:auto;"}else{if(V.autoRowHeight){Z+="height:auto;"}}}J=D(Q.join("")+'<div style="'+Z+'" '+(a.checkbox?'class="datagrid-cell-check"':'class="datagrid-cell '+a.cellClass+'"')+"></div></td>");F=J.find("div:first");if(a.checkbox){var M=a.isDisabled?a.isDisabled(N,G,E):false;F.append('<input type="checkbox" '+(G.checked?'checked="checked"':"")+' name="'+X+'" value="'+(N!=undefined?N:"")+'">').find("[type=checkbox]").attr("disabled",M);M&&F.removeClass("datagrid-cell-check").addClass("oc-datagrid-cell-check")}else{if(a.formatter){I=a.formatter(N,G,E,F);I&&F.append(I)}else{if((typeof N=="number")||N){F.append(N.toString());if(a.ellipsis){F.css("text-overflow","ellipsis").attr("title",N.toString())}}}}U.append(J)}}return U.children("td")},refreshRow:function(F,E){this.updateRow.call(this,F,E,{})},updateRow:function(F,L,I){var J=D.data(F,"datagrid").options;var E=D(F).datagrid("getRows");D.extend(E[L],I);var G=J.rowStyler?J.rowStyler.call(F,L,E[L]):"";var M="";var H="";if(typeof G=="string"){H=G}else{if(G){M=G["class"]||"";H=G["style"]||""}}var M="datagrid-row "+(L%2&&J.striped?"datagrid-row-alt ":" ")+M;function K(P){var O=D(F).datagrid("getColumnFields",P);var N=J.finder.getTr(F,L,"body",(P?1:2));var Q=N.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");N.children().remove();N.append(this.renderRow.call(this,F,O,P,L,E[L]));N.attr("style",H).attr("class",N.hasClass("datagrid-row-selected")?M+" datagrid-row-selected":M);if(Q){N.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",true)}}K.call(this,true);K.call(this,false);D(F).datagrid("fixRowHeight",L)},insertRow:function(L,F,J){var M=D.data(L,"datagrid");var K=M.options;var I=M.dc;var H=M.data;if(F==undefined||F==null){F=H.rows.length}if(F>H.rows.length){F=H.rows.length}function G(O){var P=O?1:2;for(var N=H.rows.length-1;N>=F;N--){var Q=K.finder.getTr(L,N,"body",P);Q.attr("datagrid-row-index",N+1);Q.attr("id",M.rowIdPrefix+"-"+P+"-"+(N+1));if(O&&K.rownumbers){var R=N+2;if(K.pagination){R+=(K.pageNumber-1)*K.pageSize}Q.find("div.datagrid-cell-rownumber").html(R)}if(K.striped){Q.removeClass("datagrid-row-alt").addClass((N+1)%2?"datagrid-row-alt":"")}}}function E(N){var P=N?1:2;var R=D(L).datagrid("getColumnFields",N);var S=M.rowIdPrefix+"-"+P+"-"+F;var Q='<tr id="'+S+'" class="datagrid-row" datagrid-row-index="'+F+'"></tr>';if(F>=H.rows.length){if(H.rows.length){K.finder.getTr(L,"","last",P).after(Q)}else{var O=N?I.body1:I.body2;O.html('<div class=\'table-datanull\'><table cellspacing="0" cellpadding="0" border="0"><tbody>'+Q+"</tbody></table></div>")}}else{K.finder.getTr(L,F+1,"body",P).before(Q)}}G.call(this,true);G.call(this,false);E.call(this,true);E.call(this,false);H.total+=1;H.rows.splice(F,0,J);this.refreshRow.call(this,L,F)},deleteRow:function(F,H){var G=D.data(F,"datagrid");var E=G.options;var J=G.data;function I(K){var M=K?1:2;for(var L=H+1;L<J.rows.length;L++){var N=E.finder.getTr(F,L,"body",M);N.attr("datagrid-row-index",L-1);N.attr("id",G.rowIdPrefix+"-"+M+"-"+(L-1));if(K&&E.rownumbers){var O=L;if(E.pagination){O+=(E.pageNumber-1)*E.pageSize}N.find("div.datagrid-cell-rownumber").html(O)}if(E.striped){N.removeClass("datagrid-row-alt").addClass((L-1)%2?"datagrid-row-alt":"")}}}E.finder.getTr(F,H).remove();I.call(this,true);I.call(this,false);J.total-=1;J.rows.splice(H,1);if(!J.rows||J.rows.length<=0){D(G.dc.view2).find('div[class="table-datanull"]').append("<div class='table-dataRemind'>"+E.noDataMsg+"</div>")}},onBeforeRender:function(F,E){},onAfterRender:function(F){var N=D(F),K=N.datagrid("options"),L=K.selectedCfg;if(L){var H=L.field,J=L.fieldValue,E=N.datagrid("getRows");for(var I=0,G=E.length;I<G;I++){if(E[I][H]==J){N.datagrid("selectRow",I)}}}if(K.showFooter){D(F).datagrid("getPanel").find("div.datagrid-footer").find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility","hidden")}N.datagrid("fitColumns");var M=N.datagrid("getPanel").find(".datagrid-header");M.find(":input[type=checkbox]").click(function(){if(this.checked){M.next().find(".oc-datagrid-cell-check").parent().parent().removeClass("datagrid-row-selected").removeClass("datagrid-row-checked")}});D.messager.progress("close")}},{});function C(I,F){var J=I.datagrid("options").columns[0];var G=D('<div style="height:250px !important;"></div>');for(var H=0;H<J.length;H++){if(J[H].isDynamicHidden||J[H].isDynamicHidden==undefined){G.append('<div><span class="text-over" title="'+J[H].title+'"><input class="dynamicHiddenGridColumns" type="checkbox" fieldId="'+J[H].field+'" />'+J[H].title+"</span></div>")}}G=G.menu({onShow:function(){G.css("overflow","auto")}});F.menubutton({menu:G});for(var E=0;E<J.length;E++){if((J[E].isDynamicHidden||J[E].isDynamicHidden==undefined)&&!J[E].hidden){G.find(".dynamicHiddenGridColumns[fieldId="+J[E].field+"]").attr("checked","checked")}}G.find(".dynamicHiddenGridColumns").on("click",function(K){K.stopPropagation();var L=I.parent().find("div[class=datagrid-view2]");var M=L.find("table[class=datagrid-htable]");var P=0;var O;P=parseInt(M.css("width").replace("px",""));var N=L.find("table[class=datagrid-btable]");var W = L.find('div[class=datagrid-header]');O=parseInt(I.datagrid("getColumnOption",D(K.target).attr("fieldId")).width);if(D(K.target).prop("checked")){D(K.target).attr('checked', 'true');I.datagrid("showColumn",D(K.target).attr("fieldId"));N.css("width",(P+O)+"px");W.css("width",(P+O)+"px");}else{D(K.target).removeAttr("checked");I.datagrid("hideColumn",D(K.target).attr("fieldId"));N.css("width",(P-O)+"px");W.css("width",(P-O)+"px");}})}function A(F){F=this.cfg=D.extend({},this._defaults,F);if((typeof F.selector)=="string"){F.selector=D(F.selector)}this._initOcToolbar(F.octoolbar,F.queryForm,F.delCfg,F.hideReset,F.hideSearch,F.resetIdx,F.searchIdx);		var curCfg = $.extend(true,{},F);curCfg.onLoadSuccess = function(data){var viewObj = $(this).parent().find('div[class=datagrid-view2]');var resourceObj = viewObj.find('table[class=datagrid-htable]');var targetObj = viewObj.find('table[class=datagrid-btable]');targetObj.css('width',resourceObj.css('width'));F.onLoadSuccess&&F.onLoadSuccess(data);};curCfg.onResize=function(){var viewObj = $(this).parent().find('div[class=datagrid-view2]');var resourceObj = viewObj.find('table[class=datagrid-htable]');var targetObj = viewObj.find('table[class=datagrid-btable]');targetObj.css('width',resourceObj.css('width'));};this.selector=F.selector.datagrid(curCfg);if(!F.url&&!F.data){var E=this.selector.datagrid("getPanel");E.find(".datagrid-view1>.datagrid-body>.datagrid-body-inner").append("<div class='table-datanull'></div>");E.find(".datagrid-view2>.datagrid-body").append("<div class='table-datanull'><div class='table-dataRemind'>"+F.noDataMsg+"</div></div>")}if(F.dynamicColumnsSelect){if((typeof F.dynamicColumnsSelect)=="string"){F.dynamicColumnsSelect=D(F.dynamicColumnsSelect)}C(this.selector,F.dynamicColumnsSelect)}}A.prototype={constructor:A,cfg:undefined,idField:"id",selector:undefined,queryForm:undefined,octoolbar:false,_defaults:{dynamicColumnsSelect:0,hideReset:false,resetIdx:2,hideSearch:false,searchIdx:1,pageSize:15,pageList:[15,20,30,40,50],noDataMsg:"抱歉，没有可展示的数据！"},_delCfgDefaults:{text:"删除",iconCls:"icon-remove",confirmMsg:"确认删除所选择的数据？",delMsg:"请选择至少一条要删除的数据！",remoteField:"ids",successMsg:"删除数据成功！",direction:"left",idx:"last",data:{}},reLoad:function(E){this.selector.datagrid("reload",E)},load:function(E){this.selector.datagrid("load",E)},getSelections:function(){return this.selector.datagrid("getSelections")},getSelectIds:function(){var H=this.selector.datagrid("getSelections"),F=[],I=this.idField;for(var E=0,G=H.length;E<G;E++){F[E]=H[E][I]}return F},getSelectId:function(){var E=this.selector.datagrid("getSelected");return E&&E[this.idField]},updateNoDataMsg:function(E){this.selector.datagrid("getPanel").find('div[class="table-dataRemind"]').text(E)},_initOcToolbar:function(G,F,H,K,J,M,E){var L=this;if(G||H){G=D.extend({left:[],right:[]},G);var I=G.left,N=G.right;if(F){if(!J){N.splice(E,0,{text:"查询",iconCls:"fa fa-search",onClick:function(){L.load()}});F.selector.find(".oc-enter").keypress(function(P,O){if(P.keyCode==13){L.load()}})}if(!K){N.splice(M,0,{text:"重置",iconCls:"icon-reset",onClick:function(){F.reset()}})}}if(H){H=D.extend({onClick:function(){var P=L.getSelectIds(),O=P.length;if(O){oc.ui.confirm(H.confirmMsg,function(){H.data[H["remoteField"]]=P.join();oc.util.ajax(H)})}else{alert(H.delMsg,"danger")}},success:function(O){L.reLoad()}},L._delCfgDefaults,H);if(H.direction=="left"){I.splice((H.idx=="last")?I.length:H.idx,0,H)}else{N.splice((H.idx=="last")?N.length:H.idx,0,H)}}this.octoolbar=oc.ui.toolbar(G);this.cfg.toolbar=this.octoolbar.jq}}};oc.ui.datagrid=function(E){return new A(E)}})(jQuery);

//oc.ui.nav.sub.list.js
(function(B){function A(C){C=this.cfg=B.extend({},this._defaults,C);this.ul=B(this._dom.ul);this.lis=[];if(C.url){this.reLoad(C.url)}else{if(C.data){this.load(C.data)}}if(C.selector){this.selector=(typeof C.selector=="string")?B(C.selector):C.selector;this.selector.append(this.ul)}}A.prototype={constructor:A,_activeL:undefined,_dom:{ul:'<ul class="oc-nav-sub-list"/>',li:'<li><span class="s-arrow-dot"></span><span class="text"></span></li>'},_defaults:{textField:"name",hrefField:"href",filter:function(C){return C.data},addRowed:undefined,click:undefined},get:function(C){return this.lis[C]},remove:function(C){this.lis[C].remove()},removeAll:function(){if(!this.lis||this.lis.length<=0){return}for(var C=0;C<this.lis.length;C++){this.lis[C].remove()}this.lis=new Array()},add:function(C){var D=this,E=B(this._dom.li),G=this.cfg,F=G.click,H=this.lis.push(E);E.find(".text:first").html(C[G.textField]);E.click((function(I,K,J){return function(L){if(D._activeL){D._activeL.removeClass("active")}D._activeL=B(L.target).closest("li").addClass("active");F(I,K,L,J)}})(C[G.hrefField],C,H-1)).appendTo(this.ul);if(G.addRowed){G.addRowed(E,C,H-1)}},load:function(C){this.ul.empty();this.data=C;if(B.isArray(C)){for(var D=0,E=C.length;D<E;D++){this.add(C[D])}}},reLoad:function(C){var D=this;oc.util.ajax({url:C,successMsg:null,failureMsg:null,success:function(E){D.data=D.cfg.filter?D.cfg.filter(E):E;D.load(D.data)}})},setActiveLi:function(C){if(this._activeL){this._activeL.removeClass("active")}this._activeL=C.addClass("active")},clearCurActiveLi:function(){if(this._activeL){this._activeL.removeClass("active");this._activeL=null}}};oc.ui.navsublist=function(C){return new A(C)}})(jQuery);

//oc.ui.target.js
(function(A){A.fn.target=function(E,N,H){var D='<div class="target-progress">					<div class="pro-yellow progressBar">						<label class="rightValue_label"></label>					</div>					<div class="pro-blue progressBar">						<label class="leftValue_label"></label>					</div>				</div>',L=A(this),J=E[0],I=Number(E[1]),M=Number(E[2]),K,B,G=true,F=true,C=true;if(H){J=""}if(I>M){G=false}L.html(D);K=L.find(".leftValue_label");B=L.find(".rightValue_label");K.text(I+J).attr("title",I+J).after('<input type="text" class="leftValue_input" value="'+I+'" />');B.text(M+J).attr("title",M+J).after('<input type="text" class="rightValue_input" value="'+M+'" />');if(E.length>3){K.next().attr("name",E[3]);B.next().attr("name",E[4])}if(!N){K.on("click",function(){var O=A(this);O.hide().next().show().off().on("blur",function(){var P=A(this),Q=Number(P.val());if(A.trim(Q)==""||isNaN(Q)){alert("请输入数字！");F=false;return}else{if(E[0]=="%"&&Q>100){alert("百分比不能超过100！");F=false;return}else{if(Q<0){alert("阈值不能小于0！");F=false;return}}}if(G){if(Q>=M){alert("最小阈值不得大于等于最大阈值！");F=false;return}}else{if(Q<=M){alert("最大阈值不得小于等于最小阈值！");F=false;return}}I=Q;F=true;P.prev().text(Q+J).attr("title",Q+J).show().end().hide()}).focus().on("keyup",function(P){if(P.keyCode==13){A(this).blur()}})});B.on("click",function(){var O=A(this);O.hide().next().show().off().on("blur",function(){var P=A(this),Q=Number(P.val());if(A.trim(Q)==""||isNaN(Q)){alert("请输入数字！");C=false;return}else{if(E[0]=="%"&&Q>100){alert("百分比不能超过100！");C=false;return}else{if(Q<0){alert("阈值不能小于0！");C=false;return}}}if(G){if(Q<=I){alert("最大阈值不能小于等于最小阈值！");C=false;return}}else{if(Q>=I){alert("最小阈值不得大于等于最大阈值！");C=false;return}}M=Q;C=true;P.prev().text(Q+J).attr("title",Q+J).show().end().hide()}).focus().on("keyup",function(P){if(P.keyCode==13){A(this).blur()}L.focus()})})}this.getTargetValue=function(){var O=[];O[0]=J;O[1]=I;O[2]=M;return O},this.isValidate=function(){if(!F||!C){return false}else{return true}};return this}})(jQuery);

//oc.ui.svg.js
(function(){function svg(cfg){this.cfg=$.extend({showText:false},this._defaults,cfg);this._registerEvent();this.load(this.cfg.data)}svg.prototype={constructor:svg,_defaults:{type:"topo",selector:0,isEditable:false,data:0},load:function(data){if(data){if(this.cfg.type=="biz"){this.canvas=$('<div style="width:100%;height:100%;"/>').appendTo(this.cfg.selector).canvas();this.canvas.isEditable=this.cfg.isEditable;var jsonData=eval("("+data+")");log(jsonData);this.canvas.restore(jsonData);var w=this.cfg.selector.width(),h=this.cfg.selector.height();this.canvas.setViewBox(0,0,jsonData.bg.w,jsonData.bg.h);this.canvas.raphael.setSize(w-20,h-20)}else{var ctx=this;oc.resource.loadScripts(["resource/module/topo/graph/layout.js","resource/module/topo/util/Tools.js","resource/module/topo/graph/topo.js","resource/module/topo/contextMenu/TopoSizerBar.js"],function(){var topo=new Topo({holder:ctx.cfg.selector.get(0)});topo.setEditable(false);topo.loadData(oc.resource.getUrl("topo/getSubTopo/"+ctx.cfg.id+".htm"),function(){if(!ctx.cfg.showText){topo.util.getSvg().find("text").hide();topo.paper.setViewBox(0,0,1024,768)}})})}}},_autoSize:function(){var w=this.cfg.selector.width(),h=this.cfg.selector.height();var svg=this.cfg.selector.find("svg");var sw=parseFloat(svg.width()),sh=parseFloat(svg.height());svg.css({width:w,height:h});if(!this.cfg.showText){svg.find("text").hide();if(svg&&svg.length>0){var oldvb=svg.get(0).getAttribute("viewBox");var x=0,y=0;if(oldvb){var tmp=oldvb.split(" ");x=tmp[0];y=tmp[1]}svg.get(0).setAttribute("viewBox",x+" "+y+" 2048 1024")}}},_registerEvent:function(){var ctx=this;$(window.document).resize(function(){ctx._autoSize()})}};oc.ui.svg=function(cfg){return new svg(cfg)}})();
