<?xml version="1.0" encoding="UTF-8"?>
<root> <import src="public_network.xml" />
	<!-- 
	devicetype:			设备类型名称
	ismulticoltype:		是否允许采集方式多选
	majortype:			主要分类（可以理解为设备类型）
	minortype:			次要分类
	manufacturer:		厂商
	devicetype_zh:		设备类型中文描述
	 -->
	<devicetypeinfo devicetype="H3C_Switch" ismulticoltype="true" majortype="network" minortype="Switch" manufacturer="H3C" devicetype_zh="华为3Com交换机">
		
		<!-- 用于定位设备为该类设备的多个sysoid标识，如果snmp采集为sysoid，如果其他方式自行定义 -->
		<devicetypes>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.42"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.43"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.1"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.2"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.3"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.4"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.5"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.6"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.7"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.9"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.10"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.11"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.12"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.13"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.14"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.15"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.16"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.17"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.18"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.19"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.20"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.21"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.22"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.24"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.25"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.26"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.27"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.28"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.29"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.30"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.31"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.32"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.35"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.36"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.37"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.38"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.39"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.40"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.41"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.44"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.45"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.46"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.47"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.48"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.49"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.50"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.51"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.53"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.54"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.55"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.147"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.148"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.149"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.151"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.156"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.159"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.160"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.161"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.162"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.163"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.164"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.165"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.166"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.167"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.168"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.169"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.170"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.171"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.172"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.173"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.174"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.175"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.176"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.177"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.178"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.180"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.181"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.182"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.183"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.184"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.189"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.191"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.192"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.195"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.196"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.197"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.198"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.199"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.200"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.201"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.204"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.205"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.207"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.210"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.213"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.214"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.216"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.220"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.228"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.334"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.639"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.462"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.516"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.668"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.579"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.578"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.638"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.339"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.351"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.352"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.338"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.493"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.515"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.390"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.517"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.518"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.472"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.473"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.392"/>
			<devicetype sysoid="1.3.6.1.4.1.25506.1.573"/>
		</devicetypes>
		
		<!-- 该设备类型定义的命令，用于合并命令执行 -->
		<commands>
			<!-- coltype:采集方式，comid：命令ID，command：命令 -->
			
			<command coltype="SNMP" comid="totalMemSize" command="1.3.6.1.4.1.25506.2.6.1.1.1.1.10"/>   <!--内存总容量-->
			<command coltype="SNMP" comid="cpuUsage1"     command="1.3.6.1.4.1.25506.2.6.1.1.1.1.6"/>  <!--CPU平均利用率1-->
			<command coltype="SNMP" comid="cpuUsage2"     command="1.3.6.1.4.1.2011.10.2.6.1.1.1.1.6"/>  <!--CPU平均利用率2-->
			<command coltype="SNMP" comid="cpuUsage3"     command="1.3.6.1.4.1.2011.2.17.1.2.3.1.1.4"/>  <!--CPU平均利用率3-->
			<command coltype="SNMP" comid="cpuUsage4"     command="1.3.6.1.4.1.2011.6.1.1.1.4"/>  <!--CPU平均利用率4-->
			<command coltype="SNMP" comid="cpuUsage5"    command="1.3.6.1.4.1.2011.2.62.1.7.1.1.1.3.0"/>  <!--CPU平均利用率5-->
			<command coltype="SNMP" comid="cpuUsage6"     command="1.3.6.1.4.1.2011.2.2.4.13.0"/>  <!--CPU平均利用率6-->
			<command coltype="SNMP" comid="cpuUsage7"     command="1.3.6.1.4.1.2011.2.2.8070.5.14"/>  <!--CPU平均利用率7-->
			<command coltype="SNMP" comid="cpuUsage8"     command="1.3.6.1.4.1.2011.10.2.6.1.1.1.1.6.20"/>  <!--CPU平均利用率8-->
			<command coltype="SNMP" comid="cpuUsage9"     command="1.3.6.1.4.1.2011.6.1.1.1.2"/>  <!--CPU平均利用率9-->
			<command coltype="SNMP" comid="cpuUsage10"     command="1.3.6.1.4.1.2011.2.23.1.18.1.3"/>  <!--CPU平均利用率10-->
			<command coltype="SNMP" comid="memPoolFree1"  command="1.3.6.1.4.1.25506.1.149"/>   <!--内存池可用容量1-->
			<command coltype="SNMP" comid="memPoolFree2"  command="1.3.6.1.4.1.25506.1.148"/>   <!--内存池可用容量2-->
			<command coltype="SNMP" comid="memPoolFree3"  command="1.3.6.1.4.1.25506.1.33"/>   <!--内存池可用容量3-->
			<command coltype="SNMP" comid="memPoolFree4"  command="1.3.6.1.4.1.25506.1.192"/>   <!--内存池可用容量4-->
			<command coltype="SNMP" comid="memPoolFree5"  command="1.3.6.1.4.1.25506.1.151"/>   <!--内存池可用容量5-->
			<command coltype="SNMP" comid="memPoolFree6"  command="1.3.6.1.4.1.25506.1.152"/>   <!--内存池可用容量6-->
			<command coltype="SNMP" comid="memPoolFree7"  command="1.3.6.1.4.1.25506.1.42"/>   <!--内存池可用容量7-->
			<command coltype="SNMP" comid="memPoolFree8"  command="1.3.6.1.4.1.25506.1.55"/>   <!--内存池可用容量8-->
			<command coltype="SNMP" comid="memPoolFree9"  command="1.3.6.1.4.1.25506.1.76"/>   <!--内存池可用容量9-->
			<command coltype="SNMP" comid="memPoolFree10"  command="1.3.6.1.4.1.25506.1.159"/>   <!--内存池可用容量10-->
			<command coltype="SNMP" comid="memPoolFree11"  command="1.3.6.1.4.1.2011.6.1.2.1.1.2"/>   <!--内存池可用容量11-->
			<command coltype="SNMP" comid="memPoolFree12"  command="1.3.6.1.4.1.2011.2.2.5.2"/>   <!--内存池可用容量12-->
			<command coltype="SNMP" comid="memPoolFree13"  command="1.3.6.1.4.1.2011.2.23.37"/>   <!--内存池可用容量13-->
			<command coltype="SNMP" comid="memPoolFree14"  command="1.3.6.1.4.1.2011.6.1.2.1.1.3"/>   <!--内存池可用容量14-->

			
		</commands>
		
		<!-- 描述该类设备的所有指标采集,一行对应一个指标 -->
		<resources>
			
			
			<!-- 内存总容量 -->
			<resource kpiid="N1totalMemSize" coltype="SNMP" value="" valuetype="Float" unit="Byte">
				<collects>
					<collect exeorder="10" comid="totalMemSize" select="" merge="sum" deal=""/>				
				</collects>
				
				<kpipolicy table="res_d_N1totalMemSize" field="value" fieldtype="" willalert=""
					alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3=""
					alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5=""
					alertcontin="1" alertype="" circle="1440" storefactor="1"/>
					
			</resource>
			
			
			<!-- CPU平均利用率 -->
			<resource kpiid="N1cpuUsage" coltype="SNMP" value="" valuetype="Float" unit="%">		
			<collects>				
				<collect exeorder="10" 
				comid="cpuUsage1:cpuUsage2:cpuUsage3:cpuUsage4:cpuUsage5:cpuUsage6:cpuUsage7:cpuUsage8:cpuUsage9:cpuUsage10" select="" merge="max" deal=""/>
			</collects>
			
				
				<kpipolicy table="res_d_N1cpuUsage" field="value" fieldtype="" willalert="y"
					alertexp1="${value}&lt;85" alertdesc1="CPU平均利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}>=85"
					alertdesc3="CPU平均利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}>=95" alertdesc4="CPU平均利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5=""
					alertcontin="1"   circle="5" storefactor="1"/>
				
			</resource>
			
			<!-- 内存利用率 -->
			<resource kpiid="N1memUsage" coltype="SNMP" value="(1-$d1/$N1totalMemSize)*100" valuetype="Float" unit="%">
				<collects>
					<collect exeorder="10" comid="memPoolFree1:memPoolFree2:memPoolFree3:memPoolFree4:memPoolFree5:memPoolFree6:memPoolFree7:memPoolFree8:memPoolFree9:memPoolFree10:memPoolFree11:memPoolFree12:memPoolFree13:memPoolFree14" select="" merge="sum" deal=""/>
				</collects>
				
				<kpipolicy table="res_d_N1memUsage" field="value" fieldtype="" willalert="y"
					alertexp1="${value}&lt;85" alertdesc1="内存利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}>=85"
					alertdesc3="内存利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}>=95" alertdesc4="内存利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5=""
					alertcontin="1"   circle="5" storefactor="1"/>
				
			</resource>
			
			<!-- 内存池占用容量 -->
			<resource kpiid="N1memPoolUsed" coltype="SNMP" value="$N1totalMemSize-$d1" valuetype="Float" unit="Byte">
				<collects>
					<collect exeorder="10" comid="memPoolFree1:memPoolFree2:memPoolFree3:memPoolFree4:memPoolFree5:memPoolFree6:memPoolFree7:memPoolFree8:memPoolFree9:memPoolFree10:memPoolFree11:memPoolFree12:memPoolFree13:memPoolFree14" select="" merge="sum" deal=""/>	
				</collects>
				
				<kpipolicy table="res_d_N1memPoolUsed" field="value" fieldtype="" willalert=""
					alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3=""
					alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5=""
					alertcontin="1" alertype="" circle="5" storefactor="1"/>
				
			</resource>
			
			<!-- 内存池可用容量 -->
			<resource kpiid="N1memPoolFree" coltype="SNMP" value="" valuetype="Float" unit="Byte">
				<collects>
					<collect exeorder="10" comid="memPoolFree1:memPoolFree2:memPoolFree3:memPoolFree4:memPoolFree5:memPoolFree6:memPoolFree7:memPoolFree8:memPoolFree9:memPoolFree10:memPoolFree11:memPoolFree12:memPoolFree13:memPoolFree14" select="" merge="sum" deal=""/>
				</collects>
				
				<kpipolicy table="res_d_N1memPoolFree" field="value" fieldtype="" willalert=""
					alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3=""
					alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5=""
					alertcontin="1" alertype="" circle="5" storefactor="1"/>
				
			</resource>
			
			
			
		
			
		</resources>
	</devicetypeinfo>
</root>