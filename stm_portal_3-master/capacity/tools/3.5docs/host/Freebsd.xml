<?xml version="1.0" encoding="UTF-8"?>

<root> 
  <!-- 
	devicetype:			设备类型名称
	ismulticoltype:		是否允许采集方式多选
	majortype:			主要分类（可以理解为设备类型）
	minortype:			次要分类
	manufacturer:		厂商
	devicetype_zh:		设备类型中文描述
	 -->  
  <devicetypeinfo devicetype="Freebsd" ismulticoltype="true" majortype="host" minortype="FreeBSD" manufacturer="" devicetype_zh="FreeBSD"> 
    <!-- 用于定位设备为该类设备的多个sysoid标识，如果snmp采集为sysoid，如果其他方式自行定义 -->  
    <devicetypes/>  
    <!-- 该设备类型定义的命令，用于合并命令执行 -->  
    <commands> 
      <!-- coltype:采集方式，comid：命令ID，command：命令 -->  
      <command coltype="CLI" comid="uptime" command="uptime"/>  
      <!--连续运行时间 -->  
      <command coltype="CLI" comid="systemInfo" command="uname -a"/>  
      <!--主机说明 -->  
      <command coltype="CLI" comid="operationSystem" command="uname -s -r"/>  
      <!--主机操作系统 -->  
      <command coltype="CLI" comid="macAddress" command="ifconfig -a |grep ether"/>  
      <!--MAC地址 -->  
      <command coltype="CLI" comid="allIpAddress" command="ifconfig -a | grep -w 'inet' | grep -v 127.0.0.1"/>  
      <!--主机的所有IP地址 -->  
      <command coltype="CLI" comid="osVersion" command="uname -r"/>  
      <!--主机操作系统版本 -->  
      <command coltype="CLI" comid="numberOfProcess" command="ps -Ao 'state' | sed -n '2,$p'|wc -l"/>  
      
      <!--进程数 --> 
	  <!--僵死进程数-->	
	  <command coltype="CLI" comid="numOfZombieProcess" command="ps -Ao 'state' | grep 'Z' | wc -l"/>  
      <command coltype="CLI" comid="numberOfCurrentUser" command="who |wc -l"/>  
      <!--当前在线用户数 -->  
      <command coltype="CLI" comid="totalSwapSpaceSize" command="swapinfo -k"/>  
      <!--Swap Space总大小 -->  
      <command coltype="CLI" comid="totalFSSpace" command="df -m"/>  
      <!--分区总容量 -->  
      <command coltype="CLI" comid="numberOfCPU" command="sysctl hw.ncpu"/>  
      <!--CPU个数 -->  
      <command coltype="CLI" comid="totalMemSize" command="sysctl hw.physmem"/>  
      <!--内存总容量 -->  
      <command coltype="CLI" comid="numberOfHardDisk" command="sysctl -n kern.disks | awk '{ i=1;while(i&lt;=NF) {print $i;i++}}'  |grep da | wc -l"/>  
      <!--硬盘个数 -->  
      <command coltype="CLI" comid="totalHardDiskSpace" command="diskinfo -v `sysctl -n kern.disks` | grep bytes"/>  
      <!--硬盘总容量 -->  
      <command coltype="CLI" comid="name" command="hostname"/>  
      <!--主机名 -->  
      <command coltype="CLI" comid="numberOfFileSystem" command="df -k | wc -l"/>  
      <!--分区个数 -->  
      <command coltype="CLI" comid="cpuRate" command="vmstat -h 1 3 | sed -n '3,$p'"/>  
	  
	  <!--CPU等待时间百分比-->
	  <command coltype="CLI" comid="iostat" command="iostat | sed -n '3,$p'"/>
      <!--CPU平均利用率 -->  
      <command coltype="CLI" comid="hdOperation" command="iostat -x -k -t"/>  
      <!--硬盘操作信息 -->  
      <!--cpu子资源 -->  
      <command coltype="CLI" comid="cpuInfo" command="sysctl hw.model"/>  
      <!--CPU详细信息-->  
      <!--端口子资源 -->  
      <command coltype="CLI" comid="ifInfo" command="netstat -ib |grep -v lo |grep Link"/>  
      <!--端口详细信息 -->  
      <command coltype="CLI" comid="ifIpAddress" command="ifconfig -a"/>  
      <!--端口IP地址 -->  
      <!--分区子资源 -->  
      <command coltype="CLI" comid="fileSysInfo" command="df -m"/>  
      <!--分区详细信息 -->  
      <!--硬盘子资源 -->  
      <command coltype="CLI" comid="hardDiskName" command="sysctl -n kern.disks | awk '{ i=1;while(i&lt;=NF) {print $i;i++}}'  |grep da"/>  
      <!--硬盘名称 -->  
      <command coltype="CLI" comid="hardDiskSize" command="diskinfo $childid"/>  
      <!--硬盘总容量 -->  
      <!--进程子资源 -->  
      <command coltype="CLI" comid="processInfo" command="ps -axo pid,user,pcpu,pmem,args | sed -n '2,$p'"/>  
      <!--进程详细信息 -->  
      <command coltype="INNER_PROC" comid="testAvail" command="com.qwserv.itm.pfl.resource.util.TestConnection.testAvail"/>  
      <!-- 测试是否可连接 -->  
      <command coltype="INNER_PROC" comid="testPing" command="com.qwserv.itm.pfl.resource.util.TestConnection.testPing"/>  
      <!-- 测试是否可ping -->

		<!-- 进程工具 -->  
      <command coltype="CLI" comid="processTool" command="ps -aux | sed -n '2,$p' | awk '{print $1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11}'"> 
        <columns> 
          <column key="$2" value="processId"/>   
          <column key="$1" value="userName"/>  
          <column key="$6" value="processPhysicalMem"/>  
          <column key="$5" value="processVirtualMap"/>  
          <column key="$3" value="procMulCpuRate"/> 
		  <column key="$4" value="procMulMemRate"/> 
		  <column key="$8" value="procMulStat"/> 
		  <column key="$9" value="procMulStime"/> 
		  <column key="$11" value="processCommand"/> 
        </columns> 
      </command>

	  <!--netstat工具-->
	  <command coltype="CLI" comid="netstatTool" command="netstat -anf inet &amp;&amp; netstat -anf inet6 | grep -E 'udp|tcp|icm' | awk '{print $1,$2,$3,$4,$5,$6}'"> 
        <columns> 
          <column key="$1" value="proto"/>    
          <column key="$4" value="localAddress"/>  
          <column key="$5" value="foreignAddress"/> 
		  <column key="$6" value="state"/> 
        </columns> 
      </command>
    </commands>  
    <!-- 描述该类设备的所有指标采集,一行对应一个指标 -->  
    <!-- kpiid的命名规范：长度不超过20，命名规范，前两位为模块标识，分别以以下字符打头， N（网络）、H（主机）、D（数据库）、M（中间件）、A（应用）；第二位为数字，由模块内部进行标识定义-->  
    <resources> 
      <!-- 主机在线可用性，snmpping\icmp ping都不通则不可用，否则可用 -->  
      <resource kpiid="Availability" coltype="INNER_PROC" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="testAvail" select="" merge="" deal=""/> 
        </collects>  
        <translations> 
          <translation source="-1" dest="不可用"/>  
          <translation source="0" dest="可用"/> 
        </translations>  
        <kpipolicy table="res_d_Availability" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="设备连接正常" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="&quot;${value}&quot;.contains(&quot;不可用&quot;)" alertdesc5="设备连接失败" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!-- 设备ICMP Ping 丢包率 
      <resource kpiid="H1PingLostRate" coltype="INNER_PROC" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="testPing" select="lost\t(\d+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1PingLostRate" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1" storefactor="1"/> 
      </resource> -->   
      <!-- 设备Ping时延 -->  
      <resource kpiid="H1PingResponseTime" coltype="INNER_PROC" value="" valuetype="Integer" unit="毫秒"> 
        <collects> 
          <collect exeorder="10" comid="testPing" select="delay\t([\-\d]+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ResponseTime" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1" storefactor="1"/> 
      </resource>  
      <!--连续运行时间 -->  
      <resource kpiid="H1sysUpTime" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="uptime" select="up\s*([^,]+[,]*[^,]*),\s*\d+\s*user" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1sysUpTime" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="0"/> 
      </resource>  
      <!--主机说明 -->  
      <resource kpiid="H1systemInfo" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="systemInfo" select="(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1systemInfo" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="0"/> 
      </resource>  
      <!--主机操作系统 -->  
      <!--resource kpiid="H1operationSystem" coltype="CLI" value="" valuetype="String" unit="">
				<collects>
					<collect exeorder="10" comid="operationSystem" select="(.+)" merge="" deal=""/>
				</collects>
				
				<kpipolicy table="res_d_H1operationSystem" field="value" fieldtype="" willalert="n"
					alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3=""
					alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5=""
					alertcontin="1"  circle="1440" storefactor="0"/>
				
			</resource-->  
      <!--MAC地址 -->  
      <resource kpiid="H1macAddress" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="macAddress" select="ether[\s]*(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1macAddress" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--主机的所有IP地址 -->  
      <resource kpiid="H1allIpAddress" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="allIpAddress" select="inet\s*([\d\.]+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1allIpAddress" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--操作系统版本 -->  
      <resource kpiid="H1osVersion" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="osVersion" select="(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1osVersion" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="0"/> 
      </resource>  
      <!--进程数 -->  
      <resource kpiid="H1numOfProcess" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numberOfProcess" select="" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1numOfProcess" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--僵死进程数 -->  
      <resource kpiid="H1numOfZombieProcess" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numOfZombieProcess" select="" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1numOfZombieProcess" field="value" fieldtype="" willalert="n" alertexp1="${value}&lt;=3" alertdesc1="僵死进程数恢复正常，当前值为${value}个。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=3" alertdesc3="僵死进程数大于等于${trigervalue1}个，当前值为${value}个。" alertexp4="${value}&gt;=5" alertdesc4="僵死进程数大于等于${trigervalue1}个，当前值为${value}个。" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--当前在线用户数 -->  
      <resource kpiid="H1numOfCurrentUser" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numberOfCurrentUser" select="" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1numOfCurrentUser" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--分区总容量 -->  
      <resource kpiid="H1totalFSSpace" coltype="CLI" value="$d1/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalFSSpace" select="(\d+)\s+\d+\s+\d+\s+\d+%" merge="sum" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1totalFSSpace" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="分区总容量发生变化，从${oldvalue}GB变更为${value}GB。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--Swap Space已用容量 -->  
      <resource kpiid="H1usedSwapSpace" coltype="CLI" value="$d1/1024" valuetype="Float" unit="MB"> 
        <collects> 
          <collect exeorder="10" comid="totalSwapSpaceSize" select="\d+\s+(\d+)\s+\d+\s+\d+%" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1usedSwapSpace" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--CPU个数 -->  
      <resource kpiid="H1cpuNum" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numberOfCPU" select="hw.ncpu:\s*(\d+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuNum" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="CPU个数发生变化，从${oldvalue}个变更为${value}个。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--内存总容量 -->  
      <resource kpiid="H1totalMemSize" coltype="CLI" value="$d1/1024/1024/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalMemSize" select="hw.physmem:\s*(\d+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1totalMemSize" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="内存总容量发生变化，从${oldvalue}GB变更为${value}GB。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--硬盘个数 -->  
      <resource kpiid="H1numOfHardDisk" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numberOfHardDisk" select="(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1numOfHardDisk" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="硬盘个数发生变化，从${oldvalue}个变更为${value}个。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--硬盘总容量 -->  
      <resource kpiid="H1totalHardDiskSpace" coltype="CLI" value="$d1/1024/1024/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalHardDiskSpace" select="(\d+)\s*# mediasize in bytes" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1totalHardDiskSpace" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="硬盘总容量发生变化，从${oldvalue}GB变更为${value}GB。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--网络端口个数 -->  
      <resource kpiid="H1ifNum" coltype="CLI" value="" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="(.+)" merge="count" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifNum" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="网络端口个数发生变化，从${oldvalue}个变更为${value}个。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--IP地址 -->  
      <!--<resource kpiid="H1ipAddress" coltype="CLI" value="" valuetype="String" unit="">
				<collects>
					<collect exeorder="10" comid="ipAddress" select="inet\s*(\d+\.\d+\.\d+\.\d+)" merge="join" deal=""/>
				</collects>
				
				<kpipolicy table="res_d_H1ipAddress" field="value" fieldtype="" willalert="n"
					alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3=""
					alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5=""
					alertcontin="1"  circle="60" storefactor="1"/>
				
			</resource> -->  
      <!--主机名 -->  
      <resource kpiid="H1hostName" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="name" select="(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1hostName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="!&quot;${value}&quot;.equals(&quot;${oldvalue}&quot;)" alertdesc2="主机名发生变化，从${oldvalue}变更为${value}。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--分区个数 -->  
      <resource kpiid="H1numOfFileSystem" coltype="CLI" value="$d1-1" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="numberOfFileSystem" select="(.+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1numOfFileSystem" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="分区个数发生变化，从${oldvalue}个变更为${value}个。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--Swap Space总容量 -->  
      <resource kpiid="H1totalSwSpSize" coltype="CLI" value="$d1/1024/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalSwapSpaceSize" select="(\d+)\s+\d+\s+\d+\s+\d+%" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1totalSwSpSize" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="${value}!=${oldvalue}" alertdesc2="交换分区总容量发生变化，从${oldvalue}MB变更为${value}MB。" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--CPU平均利用率 -->  
      <resource kpiid="H1cpuUsage" coltype="CLI" value="100-$d1" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="(\d+)\s*[\r\n]" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuUsage" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;80" alertdesc1="CPU平均利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=80" alertdesc3="CPU平均利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=90" alertdesc4="CPU平均利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--CPU平均负载(15分钟) -->  
      <resource kpiid="H1cpuLoad15m" coltype="CLI" value="" valuetype="Float" unit=""> 
        <collects> 
          <collect exeorder="10" comid="uptime" select="load averages:\s*[\d\.]+,\s*[\d\.]+,\s*([\d\.]+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuLoad15m" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;5" alertdesc1="CPU平均负载（15分钟）恢复正常，当前值为${value}个。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=5" alertdesc3="CPU平均负载（15分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp4="${value}&gt;=10" alertdesc4="CPU平均负载（15分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU平均负载(5分钟) -->  
      <resource kpiid="H1cpuLoad5m" coltype="CLI" value="" valuetype="Float" unit=""> 
        <collects> 
          <collect exeorder="10" comid="uptime" select="load averages:\s*[\d\.]+,\s*([\d\.]+),\s*[\d\.]+" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuLoad5m" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;5" alertdesc1="CPU平均负载（5分钟）恢复正常，当前值为${value}个。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=5" alertdesc3="CPU平均负载（5分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp4="${value}&gt;=10" alertdesc4="CPU平均负载（5分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU平均负载(1分钟) -->  
      <resource kpiid="H1cpuLoad1m" coltype="CLI" value="" valuetype="Float" unit=""> 
        <collects> 
          <collect exeorder="10" comid="uptime" select="load averages:\s*([\d\.]+),\s*[\d\.]+,\s*[\d\.]+" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuLoad1m" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;5" alertdesc1="CPU平均负载（1分钟）恢复正常，当前值为${value}个。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=5" alertdesc3="CPU平均负载（1分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp4="${value}&gt;=10" alertdesc4="CPU平均负载（1分钟）大于等于${trigervalue1}个，当前值为${value}个。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU用户模式百分比 -->  
      <resource kpiid="H1cpuUserModeTimePer" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuUserModeTimePer" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;50" alertdesc1="CPU用户模式百分比恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=50" alertdesc3="CPU用户模式百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=80" alertdesc4="CPU用户模式百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU空闲时间百分比 -->  
      <resource kpiid="H1cpuIdleTimePer" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuIdleTimePer" field="value" fieldtype="" willalert="y" alertexp1="${value}&gt;30" alertdesc1="CPU空闲时间百分比恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&lt;30" alertdesc3="CPU空闲时间百分比小于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&lt;10" alertdesc4="CPU空闲时间百分比小于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU系统模式百分比 -->  
      <resource kpiid="H1cpuSysModeTimePer" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuSysModeTimePer" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;50" alertdesc1="CPU用户模式百分比恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=50" alertdesc3="CPU系统模式百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=80" alertdesc4="CPU系统模式百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--CPU等待时间百分比 -->  
      <resource kpiid="H1cpuWaitTimePer" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="iostat" select="\d+\s*\d+\s*\d+\.\d+\s*\d+\s*\d+\.\d+\s*\d+\.\d+\s*\d+\s*\d+\.\d+\s*\d+\.\d+\s*\d+\s*\d+\.\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*\d+" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuWaitTimePer" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;50" alertdesc1="CPU等待时间百分比恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=50" alertdesc3="CPU等待时间百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=80" alertdesc4="CPU等待时间百分比大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--内存页面调进速率 -->  
      <resource kpiid="H1memPageInRate" coltype="CLI" value="" valuetype="Float" unit="页/秒"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1memPageInRate" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;2000" alertdesc1="内存页面调进速率恢复正常，当前值为${value} 页/秒。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=2000" alertdesc3="内存页面调进速率大于等于${trigervalue1} 页/秒，当前值为${value} 页/秒。" alertexp4="${value}&gt;=3000" alertdesc4="内存页面调进速率大于等于${trigervalue1} 页/秒，当前值为${value} 页/秒。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--内存页面调出速率 -->  
      <resource kpiid="H1memPageOutRate" coltype="CLI" value="" valuetype="Float" unit="页/秒"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1memPageOutRate" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;2000" alertdesc1="内存页面调进速率恢复正常，当前值为${value} 页/秒。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=2000" alertdesc3="内存页面调进速率大于等于${trigervalue1} 页/秒，当前值为${value} 页/秒。" alertexp4="${value}&gt;=3000" alertdesc4="内存页面调进速率大于等于${trigervalue1} 页/秒，当前值为${value} 页/秒。" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--主机已使用内存容量 -->  
      <resource kpiid="H1memPoolUesd" coltype="CLI" value="$d1/1024/1024/1024-$d2/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalMemSize" select="hw.physmem:\s*(\d+)" merge="" deal=""/>  
          <collect exeorder="20" comid="cpuRate" select="\d+M\s*(\d+)M" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1memPoolUesd" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--内存利用率 -->  
      <resource kpiid="H1memUsage" coltype="CLI" value="(($d1-$d2*1024*1024)/$d1)*100" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="totalMemSize" select="hw.physmem:\s*(\d+)" merge="" deal=""/>  
          <collect exeorder="20" comid="cpuRate" select="\d+M\s*(\d+)M" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1memUsage" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;80" alertdesc1="内存利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=80" alertdesc3="内存利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=90" alertdesc4="内存利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--主机总可用内存容量 -->  
      <resource kpiid="H1memPoolFree" coltype="CLI" value="$d1/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+M\s*(\d+)M" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1memPoolFree" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--分区总可用容量 -->  
      <resource kpiid="H1freeFSSpace" coltype="CLI" value="$d1/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="totalFSSpace" select="\d+\s*\d+\s*(\d+)\s*[\d\.]+%" merge="sum" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1freeFSSpace" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--内存页交换速率 -->  
      <resource kpiid="H1swapSpaceRate" coltype="CLI" value="$d1+$d2" valuetype="Float" unit="页/秒"> 
        <collects> 
          <collect exeorder="10" comid="cpuRate" select="\d+\s*\d+\s*(\d+)\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*" merge="avg" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1swapSpaceRate" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--Swap Space利用率 -->  
      <resource kpiid="H1swapSpaceRatio" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="totalSwapSpaceSize" select="([\d\.]+)%" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1swapSpaceRatio" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;80" alertdesc1="Swap Space利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=80" alertdesc3="Swap Space利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=90" alertdesc4="Swap Space利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--端口子资源 -->  
      <!--端口ID   
      <resource kpiid="H1ifID" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="($key)\s*\d+\s*&lt;Link" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifID" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  -->
      <!--端口名称 -->  
      <resource kpiid="H1ifName" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="($key)\s*\d+\s*&lt;Link" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--MAC地址 -->  
      <resource kpiid="H1ifMAC" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key\s+.+?\s+([\w\:]+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifMAC" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--端口IP地址 -->  
      <resource kpiid="H1ifIPAddress" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifIpAddress" select="$key:[\S\s]+?inet\s+([^\s]+)\s+" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifIPAddress" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!-- 子网掩码 -->  
      <resource kpiid="H1ifNetmask" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifIpAddress" select="$key:[\S\s]+?netmask\s+(\S+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifNetmask" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!-- 广播地址 -->  
      <resource kpiid="H1ifBroadcast" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="ifIpAddress" select="$key:[\S\s]+?broadcast\s+(\S+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifBroadcast" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--接收的丢包数 -->  
      <resource kpiid="H1ifInDiscards" coltype="CLI" value="" valuetype="Integer" unit="包"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*[\d\.]+\s*" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifInDiscards" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="0"/> 
      </resource>  
      <!--接收速率 -->  
      <resource kpiid="H1ifInOctetsSpeed" coltype="CLI" value="$d1*8" valuetype="Float" unit="bps"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*[\d\.]+\s*" merge="" deal="round_chgv"/> 
        </collects>  
        <kpipolicy table="res_d_H1ifInOctetsSpeed" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--发送速率 -->  
      <resource kpiid="H1ifOutOctetsSpeed" coltype="CLI" value="$d1*8" valuetype="Float" unit="bps"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*[\d\.]+\s*" merge="" deal="round_chgv"/> 
        </collects>  
        <kpipolicy table="res_d_H1ifOutOctetsSpeed" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--接收的错包数 -->  
      <resource kpiid="H1ifInErrors" coltype="CLI" value="" valuetype="Integer" unit="包"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*[\d\.]+\s*" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifInErrors" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="0"/> 
      </resource>  
      <!--发送的错包数 -->  
      <resource kpiid="H1ifOutErrors" coltype="CLI" value="" valuetype="Integer" unit="包"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*(\d+)\s*\d+\s*[\d\.]+\s*" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifOutErrors" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="0"/> 
      </resource>  
      <!--冲突率 -->  
      <resource kpiid="H1ifCollideRate" coltype="CLI" value="" valuetype="Float" unit="个/秒"> 
        <collects> 
          <collect exeorder="10" comid="ifInfo" select="$key.+?[\w:]+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*([\d\.]+)\s*" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1ifCollideRate" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;500" alertdesc1="${childname}冲突率恢复正常，当前值为${value}个/秒。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=500" alertdesc3="${childname}冲突率大于等于${trigervalue1}个/秒，当前值为${value}个/秒。" alertexp4="${value}&gt;=1000" alertdesc4="${childname}冲突率大于等于${trigervalue1}个/秒，当前值为${value}个/秒。" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--分区子资源 -->  
      <!--分区名称 -->  
      <resource kpiid="H1fileSysName" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="fileSysInfo" select="\d+%\s*($key)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1fileSysName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--分区容量 -->  
      <resource kpiid="H1fileSysTotalSize" coltype="CLI" value="$d1/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="fileSysInfo" select="(\d+)\s*\d+\s*\d+\s*\d+%\s*$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1fileSysTotalSize" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--分区总可用容量 -->  
      <resource kpiid="H1fileSysFreeSize" coltype="CLI" value="$d1/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="fileSysInfo" select=".+?\s*\d+\s*\d+\s*(\d+)\s*\d+%\s*$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1fileSysFreeSize" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--分区利用率 -->  
      <resource kpiid="H1fileSysRate" coltype="CLI" value="" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="fileSysInfo" select=".+?\s*\d+\s*\d+\s*\d+\s*(\d+)%\s*$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1fileSysRate" field="value" fieldtype="" willalert="y" alertexp1="${value}&lt;80" alertdesc1="${childname}分区空间利用率恢复正常，当前值为${value}%。" alertexp2="" alertdesc2="" alertexp3="${value}&gt;=80" alertdesc3="${childname}分区空间利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp4="${value}&gt;=90" alertdesc4="${childname}分区空间利用率大于等于${trigervalue1}%，当前值为${value}%。" alertexp5="" alertdesc5="" alertcontin="1" circle="60" storefactor="1"/> 
      </resource>  
      <!--硬盘子资源 -->  
      <!--硬盘名称 -->  
      <resource kpiid="H1hardDiskName" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="hardDiskName" select="" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1hardDiskName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--硬盘容量 -->  
      <resource kpiid="H1hardDiskTotalSize" coltype="CLI" value="$d1/1024/1024/1024" valuetype="Float" unit="GB"> 
        <collects> 
          <collect exeorder="10" comid="hardDiskSize" select="\w+\s*\d+\s*(\d+)\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*\d+\s*" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1hardDiskTotalSize" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--进程子资源 -->  
      <!--进程ID -->  
      <resource kpiid="H1processId" coltype="CLI" value="(pid),command" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+\S+\s+[\d\.]+\s+[\d\.]+\s+$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1processId" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--进程名称 -->  
      <resource kpiid="H1processCommand" coltype="CLI" value="pid,(command)" valuetype="String" unit=""> 
         <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+\S+\s+[\d\.]+\s+[\d\.]+\s+$key" merge="" deal=""/> 
        </collects> 
        <kpipolicy table="res_d_H1processName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource> 
      
    
       
      <!--用户名 -->  
      <resource kpiid="H1userName" coltype="CLI" value="pid,(user),command" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+(\S+)\s+[\d\.]+\s+[\d\.]+\s+$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1userName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="15" storefactor="1"/> 
      </resource>  
      <!--进程CPU平均利用率 -->  
      <resource kpiid="H1procMulCpuRate" coltype="CLI" value="pid,(cpuRate),command" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+\S+\s+([\d\.]+)\s+[\d\.]+\s+$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1procMulCpuRate" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--进程内存平均利用率 -->  
      <resource kpiid="H1procMulMemRate" coltype="CLI" value="pid,(memRate),command" valuetype="Float" unit="%"> 
        <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+\S+\s+[\d\.]+\s+([\d\.]+)\s+$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1procMulMemRate" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>  
      <!--进程可用性  -->
      <resource kpiid="H1processAvail" coltype="CLI" value="pid,(avail),command" valuetype="Integer" unit="个"> 
        <collects> 
          <collect exeorder="10" comid="processInfo" select="(\d+)\s+(\S+)\s+[\d\.]+\s+[\d\.]+\s+$key" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1procAvail" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="${value}==0" alertdesc5="${childname}进程不存在" alertcontin="1" circle="5" storefactor="1"/> 
      </resource>   
      <!-- CPU子资源 -->  
      <!--CPU ID -->  
      <resource kpiid="H1cpuId" coltype="CLI" value="" valuetype="Integer" unit=""> 
        <collects> 
          <collect exeorder="10" comid="cpuInfo" select="hw.model:.+?\s+($key)\s+@" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuId" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--CPU名称 -->  
      <resource kpiid="H1cpuName" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="cpuInfo" select="hw.model:.+?\s+($key)\s+@" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuName" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--CPU型号 -->  
      <resource kpiid="H1cpuModel" coltype="CLI" value="" valuetype="String" unit=""> 
        <collects> 
          <collect exeorder="10" comid="cpuInfo" select="hw.model:(.+?)\s+$key\s+@" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuModel" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource>  
      <!--CPU频率 -->  
      <resource kpiid="H1cpuSpeed" coltype="CLI" value="" valuetype="String" unit="GHz"> 
        <collects> 
          <collect exeorder="10" comid="cpuInfo" select="hw.model:.+?\s+$key\s+@\s+([\d\.]+)GHz" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1cpuSpeed" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="1"/> 
      </resource> 
	  
	  <!-- 进程工具 -->  
      <resource kpiid="H1fullProcess" coltype="CLI" value="" valuetype="IMME" unit=""> 
        <collects> 
          <collect exeorder="10" comid="processTool" select="(\w+)\s(\d+)\s(\d+\.\d+)\s(\d+\.\d+)\s(\d+)\s(\d+)\s(\S+)\s(\S+)\s(\S+)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1processTool" field="value" fieldtype="" willalert="y" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="5" storefactor="0"/> 
      </resource> 
	  
	  <!--netstat工具-->
	  <resource kpiid="H1netstat" coltype="CLI" value="" valuetype="IMME" unit=""> 
        <collects> 
          <collect exeorder="10" comid="netstatTool" select="(\w+)\s+\d+\s+\d+\s+(\S+)\s+(\S+)\s+(.*)" merge="" deal=""/> 
        </collects>  
        <kpipolicy table="res_d_H1netstatTool" field="value" fieldtype="" willalert="n" alertexp1="" alertdesc1="" alertexp2="" alertdesc2="" alertexp3="" alertdesc3="" alertexp4="" alertdesc4="" alertexp5="" alertdesc5="" alertcontin="1" circle="1440" storefactor="0"/> 
      </resource>
    </resources> 
  </devicetypeinfo> 
</root>
