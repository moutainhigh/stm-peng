<?xml version="1.0" encoding="UTF-8"?>

<MetricPlugins xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0" xsi:noNamespaceSchemaLocation="../../../schema/Collect.xsd">
    <GlobalMetricSetting isEncrypt="FALSE" version="4.1.0">
        <ChangePluginInitParameter pluginid="JdbcPlugin" parameterId="dbType" propertyValue="MySQL" parameterProperty="DefaultValue"/>
        <ChangePluginInitParameter pluginid="JdbcPlugin" parameterId="jdbcPort" parameterProperty="DefaultValue" propertyValue="3306"/>
        <ChangePluginInitParameter pluginid="SshPlugin" parameterId="port" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="SshPlugin" parameterId="username" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="SshPlugin" parameterId="password" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="WmiPlugin" parameterId="username" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="WmiPlugin" parameterId="password" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="port" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="username" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="password" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="userprompt" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="passprompt" parameterProperty="mustInput" propertyValue="FALSE"/>
        <ChangePluginInitParameter pluginid="TelnetPlugin" parameterId="opprompt" parameterProperty="mustInput" propertyValue="FALSE"/>
    </GlobalMetricSetting>
    <PluginClassAliasList>
        <PluginClassAlias id="defaultProcessor" class="com.mainsteam.stm.plugin.common.DefaultResultSetProcessor"/>
        <PluginClassAlias id="defaultConverter" class="com.mainsteam.stm.plugin.common.DefaultResultSetConverter"/>
        <PluginClassAlias id="selectProcessor" class="com.mainsteam.stm.plugin.common.SelectResultSetProcessor"/>
        <PluginClassAlias id="columnPasteProcessor" class="com.mainsteam.stm.plugin.common.ColumnPasteProcessor"/>
        <PluginClassAlias id="RegularFilter" class="com.mainsteam.stm.plugin.common.RegularFilter"/>
        <PluginClassAlias id="subInstConverter" class="com.mainsteam.stm.plugin.common.SubInstResultSetConverter"/>
        <PluginClassAlias id="availableConverter" class="com.mainsteam.stm.plugin.common.AvailableConverter"/>
        <PluginClassAlias id="tableConverter" class="com.mainsteam.stm.plugin.common.TableResultSetConverter"/>
        <PluginClassAlias id="translateProcessor" class="com.mainsteam.stm.plugin.common.TranslateResultSetProcessor"/>
        <PluginClassAlias id="ChangeRateProcessor" class="com.mainsteam.stm.plugin.common.ChangeRateProcessor"/>
        <PluginClassAlias id="processConverter" class="com.mainsteam.stm.plugin.common.ProcessResultSetConverter"/>
        <PluginClassAlias id="FormatProcessor" class="com.mainsteam.stm.plugin.common.FormatProcessor"/>
        <PluginClassAlias id="memRateProcessor" class="com.mainsteam.stm.plugin.common.MemRateProcessor"/>
    </PluginClassAliasList>
    <MetricPlugin metricid="cpuRate" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns="CPU"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::select PercentProcessorTime from Win32_PerfFormattedData_PerfOS_Processor  where name = '_Total'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter type="" key="" value="TO_HUNDRED"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="cpuRate" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="cpuRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;top -b -n 3 -d 2 | grep -i &quot;cpu(s)&quot; | tail -n+3 | awk -F , '{if($4~/id/){printf (&quot;%0.2f&quot;,100-substr($4,1,length($4)-3));}}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;sar -u 1 2| awk 'BEGIN{idle=0;idloff=0;}{if($0~/idle/){for(i=1;i&lt;=NF;i++){if($i~/idle/)idloff=i;}}else if(NF&gt;1){idle=$idloff;}}END{syscpuload=100.00-idle;printf &quot;%.2f&quot;, syscpuload}'"/>
            <Parameter type="" key="SunOS" value="vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="AIX" value="vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="SCO_SV" value="sar -u 1 2| awk 'BEGIN{idle=0;idloff=0;}{if($0~/idle/){for(i=1;i&lt;=NF;i++){if($i~/idle/)idloff=i;}}else if(NF&gt;1){idle=$idloff;}}END{syscpuload=100.00-idle;printf &quot;%.2f&quot;, syscpuload}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="cpuRate" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="cpuRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;top -b -n 3 -d 2 | grep -i &quot;cpu(s)&quot; | tail -n+3 | awk -F , '{if($4~/id/){printf (&quot;%0.2f&quot;,100-substr($4,1,length($4)-3));}}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;sar -u 1 2| awk 'BEGIN{idle=0;idloff=0;}{if($0~/idle/){for(i=1;i&lt;=NF;i++){if($i~/idle/)idloff=i;}}else if(NF&gt;1){idle=$idloff;}}END{syscpuload=100.00-idle;printf &quot;%.2f&quot;, syscpuload}'"/>
            <Parameter type="" key="SunOS" value="vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="AIX" value="vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
            <Parameter type="" key="SCO_SV" value="sar -u 1 2| awk 'BEGIN{idle=0;idloff=0;}{if($0~/idle/){for(i=1;i&lt;=NF;i++){if($i~/idle/)idloff=i;}}else if(NF&gt;1){idle=$idloff;}}END{syscpuload=100.00-idle;printf &quot;%.2f&quot;, syscpuload}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;vmstat 1 2 | awk 'BEGIN{id_flag=0;idl=0;}NR&gt;1{if($0~/id/){for(i=1;i&lt;=NF;i++){if($i~/id/)id_flag=i;}}idl=$id_flag;}END{printf &quot;%.2f&quot;, 100.00-idl}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="memRate" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns="Memory,totalMemSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::select FreePhysicalMemory,TotalVisibleMEMorySize from Win32_OperatingSystem"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (totalMemSize - Memory)/totalMemSize*100 AS memRate"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter type="" key="" value="TO_HUNDRED"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="memRate" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="memRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;cat /proc/meminfo | egrep '(^MemTotal|^MemFree|^Buffers|^Cached)' | awk '{if(NR==1){total=$2}else{free+=$2}};END {print free}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;sar -r 1 | awk 'BEGIN{memfree=0}{while(getline &gt;0){memfree=$2;}}END{printf &quot;%.0f&quot;,memfree*4}'"/>
            <Parameter type="" key="SunOS" value="vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree}'"/>
            <Parameter type="" key="AIX" value="svmon -G |egrep '(in use|memory)'|awk 'BEGIN{total=0;inused=0;}{if($1~/memory/){total=$2;}else{inused=$3;}}END{printf &quot;%.0f&quot;,(total-inused)*4}'"/>
            <Parameter type="" key="SCO_SV" value="sar -r 1 | awk 'BEGIN{memfree=0}{while(getline &gt;0){memfree=$2;}}END{printf &quot;%.0f&quot;,memfree*4}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree*4}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="ResourceProperty" key="totalMemSize" value="totalMemSize"/>
                <Parameter type="" key="SELECT" value="SELECT (1-memRate/${totalMemSize})*100 as memRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="memRate" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="memRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;cat /proc/meminfo | egrep '(^MemTotal|^MemFree|^Buffers|^Cached)' | awk '{if(NR==1){total=$2}else{free+=$2}};END {print free}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;sar -r 1 | awk 'BEGIN{memfree=0}{while(getline &gt;0){memfree=$2;}}END{printf &quot;%.0f&quot;,memfree*4}'"/>
            <Parameter type="" key="SunOS" value="vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree}'"/>
            <Parameter type="" key="AIX" value="svmon -G |egrep '(in use|memory)'|awk 'BEGIN{total=0;inused=0;}{if($1~/memory/){total=$2;}else{inused=$3;}}END{printf &quot;%.0f&quot;,(total-inused)*4}'"/>
            <Parameter type="" key="SCO_SV" value="sar -r 1 | awk 'BEGIN{memfree=0}{while(getline &gt;0){memfree=$2;}}END{printf &quot;%.0f&quot;,memfree*4}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;vmstat 1 2 | awk 'BEGIN{flag_fre=0;memfree=0;}NR&gt;1{if($0~/fre/){for(i=1;i&lt;=NF;i++){if($i~/fre/)flag_fre=i;}}memfree=$flag_fre;}END{printf &quot;%.0f&quot;, memfree*4}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="ResourceProperty" key="totalMemSize" value="totalMemSize"/>
                <Parameter type="" key="SELECT" value="SELECT (1-memRate/${totalMemSize})*100 as memRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="OperatingSystem" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::SELECT Caption from Win32_OperatingSystem"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="OperatingSystem" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="OperatingSystem"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;cat /etc/redflag-release 2&gt;/dev/null ||cat /etc/redhat-release 2&gt;/dev/null ||head -n 1 /etc/SuSE-release 2&gt;/dev/null ||cat /etc/mvl-release 2&gt;/dev/null ||cat /etc/wrs-release 2&gt;/dev/null ||cat /etc/debian_version 2&gt;/dev/null || cat /etc/debian_version 2&gt;/dev/null ||cat /etc/lsb-release"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;uname -srn | awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;uname -svn|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="SunOS" value="uname -a 2&gt;/dev/null|awk '{printf &quot;%s %s&quot;, $1,$3}'"/>
            <Parameter type="" key="AIX" value="uname"/>
            <Parameter type="" key="SCO_SV" value="uname -svn|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;uname -a|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="OperatingSystem" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="OperatingSystem"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;cat /etc/redflag-release 2&gt;/dev/null ||cat /etc/redhat-release 2&gt;/dev/null ||head -n 1 /etc/SuSE-release 2&gt;/dev/null ||cat /etc/mvl-release 2&gt;/dev/null ||cat /etc/wrs-release 2&gt;/dev/null ||cat /etc/debian_version 2&gt;/dev/null || cat /etc/debian_version 2&gt;/dev/null ||cat /etc/lsb-release"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;uname -srn | awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;uname -svn|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="SunOS" value="uname -a 2&gt;/dev/null|awk '{printf &quot;%s %s&quot;, $1,$3}'"/>
            <Parameter type="" key="AIX" value="uname"/>
            <Parameter type="" key="SCO_SV" value="uname -svn|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;uname -a|awk '{printf &quot;%s %s&quot;,$1,$3}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="hostName" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::select Name from Win32_ComputerSystem"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="hostName" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="hostName"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;uname -n"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;uname -n"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;uname -n"/>
            <Parameter type="" key="SunOS" value="uname -n"/>
            <Parameter type="" key="AIX" value="uname -n"/>
            <Parameter type="" key="SCO_SV" value="uname -n"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;uname -n"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="hostName" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="hostName"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;uname -n"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;uname -n"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;uname -n"/>
            <Parameter type="" key="SunOS" value="uname -n"/>
            <Parameter type="" key="AIX" value="uname -n"/>
            <Parameter type="" key="SCO_SV" value="uname -n"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;uname -n"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="totalMemSize" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns="chk_totalMemSize_wmi"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::SELECT TotalVisibleMEMorySize FROM Win32_OperatingSystem"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="totalMemSize" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="totalMemSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;cat /proc/meminfo |grep -i MemTotal |awk '{printf &quot;%d&quot;,$2}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;cat /var/run/dmesg.boot | grep -i &quot;real memory&quot; | awk '{printf &quot;%d&quot;,$4/1024}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;memsize|awk '{printf &quot;%d&quot;,$1/1024}'"/>
            <Parameter type="" key="SunOS" value="prtconf|awk '/^Memory [Ss]ize/{printf &quot;%d&quot;,$3*1024}'"/>
            <Parameter type="" key="AIX" value="/usr/sbin/prtconf -m 2&gt;/dev/null| awk '{printf &quot;%d&quot;,$3*1024}'"/>
            <Parameter type="" key="SCO_SV" value="memsize|awk '{printf &quot;%d&quot;,$1/1024}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;grep Physical /var/adm/syslog/syslog.log 2&gt;/dev/null |awk 'BEGIN{pmemsize=0;}{for(i=1;i&lt;=NF;i++){if($i~/Physical:/){pmemsize=$(i+1)}}}END{if(pmemsize==0)exit 1;printf pmemsize}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="totalMemSize" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="totalMemSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux" value="LANG=en_US.utf8;cat /proc/meminfo |grep -i MemTotal |awk '{printf &quot;%d&quot;,$2}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;cat /var/run/dmesg.boot | grep -i &quot;real memory&quot; | awk '{printf &quot;%d&quot;,$4/1024}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;memsize|awk '{printf &quot;%d&quot;,$1/1024}'"/>
            <Parameter type="" key="SunOS" value="prtconf|awk '/^Memory [Ss]ize/{printf &quot;%d&quot;,$3*1024}'"/>
            <Parameter type="" key="AIX" value="/usr/sbin/prtconf -m 2&gt;/dev/null| awk '{printf &quot;%d&quot;,$3*1024}'"/>
            <Parameter type="" key="SCO_SV" value="memsize|awk '{printf &quot;%d&quot;,$1/1024}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;grep Physical /var/adm/syslog/syslog.log 2&gt;/dev/null |awk 'BEGIN{pmemsize=0;}{for(i=1;i&lt;=NF;i++){if($i~/Physical:/){pmemsize=$(i+1)}}}END{if(pmemsize==0)exit 1;printf pmemsize}'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="appCpuRate" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns="chk_cpurate_wmi,cpuCore"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::select PercentProcessorTime from Win32_PerfFormattedData_PerfProc_Thread where Name like 'mysqld%'"/>
            <Parameter type="" key="COMMAND" value="root\cimv2::select name from Win32_PerfFormattedData_PerfOS_Processor where name !='_Total'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="RegularFilter">
                <Parameter type="" key="REGULAR" value="(\d+)"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (sum(chk_cpurate_wmi))/count(cpuCore) as appCpuRate"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter type="" key="" value="TO_HUNDRED"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="appCpuRate" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="appCpuRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;pids=`ps -ef |egrep &quot;mysqld&quot;|egrep -v egrep |awk '{thepids=thepids &quot;,&quot; $2 &quot;,&quot;;} END{printf &quot;%s&quot;,thepids}'`;cpuNum=`cat /proc/cpuinfo | egrep &quot;processor[[:space:]]*:&quot; | wc -l`; top -b -n 2 -U mysql | awk -v pids=$pids -v cpuNum=$cpuNum '$1==&quot;PID&quot; {block_num++; next}  block_num==2&amp;&amp;index(pids, &quot;,&quot; $1 &quot;,&quot;)&gt;0{cpuUsage=cpuUsage+$9;} END{if(cpuNum!=0){cpuUsage=cpuUsage/cpuNum;}printf(&quot;%0.2f&quot;,cpuUsage);}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;ps -aux | egrep mysqld | egrep -v egrep | awk '{print $3}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="SunOS" value="ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="AIX" value="ps auwwx |egrep mysqld | egrep -v egrep | awk '{print $3}'"/>
            <Parameter type="" key="SCO_SV" value="ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;UNIX95= ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="RegularFilter">
                <Parameter type="" key="REGULAR" value="(\S+)"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT sum(appCpuRate) as appCpuRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="appCpuRate" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="appCpuRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;pids=`ps -ef |egrep &quot;mysqld&quot;|egrep -v egrep |awk '{thepids=thepids &quot;,&quot; $2 &quot;,&quot;;} END{printf &quot;%s&quot;,thepids}'`;cpuNum=`cat /proc/cpuinfo | egrep &quot;processor[[:space:]]*:&quot; | wc -l`; top -b -n 2 -U mysql | awk -v pids=$pids -v cpuNum=$cpuNum '$1==&quot;PID&quot; {block_num++; next}  block_num==2&amp;&amp;index(pids, &quot;,&quot; $1 &quot;,&quot;)&gt;0{cpuUsage=cpuUsage+$9;} END{if(cpuNum!=0){cpuUsage=cpuUsage/cpuNum;}printf(&quot;%0.2f&quot;,cpuUsage);}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;ps -aux | egrep mysqld | egrep -v egrep | awk '{print $3}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="SunOS" value="ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="AIX" value="ps auwwx |egrep mysqld | egrep -v egrep | awk '{print $3}'"/>
            <Parameter type="" key="SCO_SV" value="ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="HP-UX" value="LANG=en_US.utf8;UNIX95= ps -eo 'pcpu comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="RegularFilter">
                <Parameter type="" key="REGULAR" value="(\S+)"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT sum(appCpuRate) as appCpuRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="appMemRate" collectType="WMI" pluginid="WmiPlugin">
        <PluginResultMetaInfo columns="Memory,totalMemSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="COMMAND" value="root\cimv2::select WorkingSet from Win32_PerfFormattedData_PerfProc_Process where Name like 'mysqld%'"/>
            <Parameter type="" key="COMMAND" value="root\cimv2::SELECT TotalVisibleMEMorySize FROM Win32_OperatingSystem"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (100*sum(Memory)/totalMemSize/1024) as appMemRate"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter type="" key="" value="TO_HUNDRED"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="appMemRate" collectType="SSH" pluginid="SshPlugin">
        <PluginResultMetaInfo columns="appMemRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="GetUname" value="yes"/>
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;pids=`ps -ef |egrep &quot;mysqld&quot;|egrep -v egrep |awk '{thepids=thepids &quot;,&quot; $2 &quot;,&quot;;} END{printf &quot;%s&quot;,thepids}'`;top -bS -n 1 -d 1 | awk -v pids=$pids 'BEGIN{res=0;shr=0;real=0;tmp_res=0;tmp_shr=0;} {if(index(pids, &quot;,&quot; $1 &quot;,&quot;) &gt; 0){ if($6~/m|M/){tmp_res=substr($6,1,length($6)-1);res=res+tmp_res*1024;}else if($6~/g|G/) {tmp_res=substr($6,1,length($6)-1);res=res+tmp_res*1024*1024;}else{res=res+$6;}; if($7~/m|M/){tmp_shr=substr($7,1,length($7)-1);shr=shr+tmp_shr*1024} else if($7~/g|G/){tmp_shr=substr($7,1,length($7)-1);shr=shr+tmp_shr*1024*1024}else{shr=shr+$7;};}} END{real=res-shr;printf(&quot;%d&quot;,real);}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;ps -aux | egrep mysqld | egrep -v egrep | awk '{print $4}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;ps -eo 'vsz comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="SunOS" value="ps -eo 'pmem comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="AIX" value="ps auwwx |egrep mysqld | egrep -v egrep | awk '{print $4}'"/>
            <Parameter type="" key="SCO_SV" value="ps -eo 'vsz comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="HP-UX"
                       value="LANG=en_US.utf8;rm -f /tmp/topShellResult.log;top -s2 -d1 -P -n65535 -f /tmp/topShellResult.log; cat /tmp/topShellResult.log | egrep 'mysqld' | awk 'BEGIN{res_data=0;res_temp=0;} {res_temp=substr($9,1,length($9)-1);if($9~/K/){res_data=res_data+res_temp;} else if($9~/M/){res_data=res_data+res_temp*1024;}} END{printf (&quot;%d&quot;,res_data);}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="memRateProcessor">
                <Parameter type="ResourceProperty" key="totalMemSize" value="totalMemSize"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="appMemRate" collectType="TELNET" pluginid="TelnetPlugin">
        <PluginResultMetaInfo columns="appMemRate"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="GetUname" value="yes"/>
            <Parameter type="" key="Linux"
                       value="LANG=en_US.utf8;pids=`ps -ef |egrep &quot;mysqld&quot;|egrep -v egrep |awk '{thepids=thepids &quot;,&quot; $2 &quot;,&quot;;} END{printf &quot;%s&quot;,thepids}'`;top -bS -n 1 -d 1 | awk -v pids=$pids 'BEGIN{res=0;shr=0;real=0;tmp_res=0;tmp_shr=0;} {if(index(pids, &quot;,&quot; $1 &quot;,&quot;) &gt; 0){ if($6~/m|M/){tmp_res=substr($6,1,length($6)-1);res=res+tmp_res*1024;}else if($6~/g|G/) {tmp_res=substr($6,1,length($6)-1);res=res+tmp_res*1024*1024;}else{res=res+$6;}; if($7~/m|M/){tmp_shr=substr($7,1,length($7)-1);shr=shr+tmp_shr*1024} else if($7~/g|G/){tmp_shr=substr($7,1,length($7)-1);shr=shr+tmp_shr*1024*1024}else{shr=shr+$7;};}} END{real=res-shr;printf(&quot;%d&quot;,real);}'"/>
            <Parameter type="" key="FreeBSD" value="setenv LANG en_US.UTF-8;ps -aux | egrep mysqld | egrep -v egrep | awk '{print $4}'"/>
            <Parameter type="" key="UnixWare" value="LANG=en_US.UTF-8;ps -eo 'vsz comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="SunOS" value="ps -eo 'pmem comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="AIX" value="ps auwwx |egrep mysqld | egrep -v egrep | awk '{print $4}'"/>
            <Parameter type="" key="SCO_SV" value="ps -eo 'vsz comm args' | egrep mysqld | egrep -v egrep | awk '{print $1}'"/>
            <Parameter type="" key="HP-UX"
                       value="LANG=en_US.utf8;rm -f /tmp/topShellResult.log;top -s2 -d1 -P -n65535 -f /tmp/topShellResult.log; cat /tmp/topShellResult.log | egrep 'mysqld' | awk 'BEGIN{res_data=0;res_temp=0;} {res_temp=substr($9,1,length($9)-1);if($9~/K/){res_data=res_data+res_temp;} else if($9~/M/){res_data=res_data+res_temp*1024;}} END{printf (&quot;%d&quot;,res_data);}'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="memRateProcessor">
                <Parameter type="ResourceProperty" key="totalMemSize" value="totalMemSize"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Version" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'version'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="sysUpTime" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Uptime'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="character" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="select @@character_set_database"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="dataDirectory" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'datadir'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="installDirectory" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'basedir'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="connCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Connections'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="waitedLockCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Table_locks_waited'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="immediateLockCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Table_locks_immediate'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="qcacheInsertCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Qcache_inserts'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="availability" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="select 1 from dual"/>
            <Parameter type="" key="IS_AVAIL" value="true"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="translateProcessor">
                <Parameter type="" key="" value="1,1;0"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="availableConverter"/>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="storageEngine" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="select @@storage_engine"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="maxConnCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="select @@max_connections"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="keyBufferSize" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'key_buffer_size'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="queryBufferSize" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'query_cache_size'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="diskRequestCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Key_reads'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="cacheRequestCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Key_read_requests'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="connThreadCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_connected'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="activeThreadCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_running'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="cachedThreadCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_cached'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="curSessionCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_created'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="cacheAccessRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="cachedThreadCount,curSessionCount"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_cached'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Threads_created'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT ((cachedThreadCount/curSessionCount)*100) as cacheAccessRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="dataFileRequest" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Handler_read_rnd_next'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="comSelect" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Com_select'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="tableScanRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="dataFileRequestCount,comSelect"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Handler_read_rnd_next'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Com_select'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (100*comSelect/dataFileRequestCount) as tableScanRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="qcacheHitCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Qcache_hits'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="qcacheHitRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="qcacheHitCount,comSelect"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Qcache_hits'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'Com_select'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT ((qcacheHitCount/(qcacheHitCount+comSelect))*100) as qcacheHitRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="qcacheUsesRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="queryBufferSize,queryFreeSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_VARIABLES WHERE VARIABLE_NAME= 'query_cache_size'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME= 'qcache_free_memory'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (((queryBufferSize-queryFreeSize)/queryBufferSize)*100) as qcacheUsesRate"/>
            </PluginDataHandler>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter type="" key="" value="TO_HUNDRED"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="qcacheBlockRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="qcacheFreeBlocks,qcacheTotalBlocks"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='qcache_free_blocks'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='qcache_total_blocks'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT ((qcacheFreeBlocks/qcacheTotalBlocks)*100) as qcacheBlockRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="curProcessCount" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT COUNT(host) FROM information_schema.PROCESSLIST"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Aborted_clients" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Aborted_clients'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Aborted_connects" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Aborted_connects'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Bytes_received" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Bytes_received'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Bytes_sent" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Bytes_sent'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Connections" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Connections'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Delayedthreads" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Delayed_insert_threads'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Delayed_errors" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Delayed_errors'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Flush_commands" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Flush_commands'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handler_delete" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_delete'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handreadfirst" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_read_first'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handnext" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_read_next'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handlerrnd" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_read_rnd'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handler_update" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_update'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Handler_write" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Handler_write'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Keyblocksused" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_blocks_used'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Keyreadreqs" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_read_requests'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Key_reads" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_reads'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="cacheMissRate" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="keyReads,keyRequest"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_reads'"/>
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_read_requests'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT (keyReads*100/keyRequest) as cacheMissRate"/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Key_writes" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Key_writes'"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="Maxusedconns" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Max_used_connections'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Open_tables" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Open_tables'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Open_files" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Open_files'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Open_streams" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Open_streams'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Opened_tables" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Opened_tables'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Questions" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Questions'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="Slow_queries" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT VARIABLE_VALUE FROM information_schema.GLOBAL_STATUS WHERE VARIABLE_NAME='Slow_queries'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key=""/>
            </PluginDataHandler>
        </PluginDataHandlers>
    </MetricPlugin>
    <MetricPlugin metricid="dbdataBaseName" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="dbdataBaseName"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="show databases"/>
        </PluginParameter>
        <PluginDataConverter classKey="subInstConverter">
            <Parameter type="" key="IndexColumnTitle" value="dbdataBaseName"/>
            <Parameter type="" key="ValueColumnTitle" value="dbdataBaseName"/>
        </PluginDataConverter>
    </MetricPlugin>
    <MetricPlugin metricid="dbdatabaseSpace" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="dbdataBaseName,mySqlDBSize"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT schema_name,IFNULL(ROUND(SUM(data_length+index_length)/1024/1024,4),0) 'db size'   FROM information_schema.SCHEMATA a LEFT JOIN information_schema.TABLES b ON a.schema_name=b.table_schema GROUP BY schema_name"/>
            <!--如果此SQL语句执行非常慢 请做以下SQL设置 set global innodb_stats_on_metadata = 0 -->
        </PluginParameter>
        <PluginDataConverter classKey="subInstConverter">
            <Parameter type="" key="IndexColumnTitle" value="dbdataBaseName"/>
            <Parameter type="" key="ValueColumnTitle" value="mySqlDBSize"/>
            <Parameter type="ResourceProperty" key="InstPropertyKey" value="dbdataBaseName"/>
        </PluginDataConverter>
    </MetricPlugin>
    <MetricPlugin metricid="dbTableQty" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="dbdataBaseName,mySqlTableQty"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT schema_name,COUNT(TABLE_NAME)  FROM information_schema.SCHEMATA a LEFT JOIN information_schema.TABLES b ON a.schema_name=b.table_schema GROUP BY schema_name"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="FormatProcessor">
                <Parameter value="INTEGER" type="" key="mySqlTableQty"/>
            </PluginDataHandler>
        </PluginDataHandlers>
        <PluginDataConverter classKey="subInstConverter">
            <Parameter type="" key="IndexColumnTitle" value="dbdataBaseName"/>
            <Parameter type="" key="ValueColumnTitle" value="mySqlTableQty"/>
            <Parameter type="ResourceProperty" key="InstPropertyKey" value="dbdataBaseName"/>
        </PluginDataConverter>
    </MetricPlugin>
    <MetricPlugin metricid="dbAvailability" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="dbdataBaseName,mySqlStateAvailability"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="SELECT schema_name,COUNT(TABLE_NAME)  FROM information_schema.SCHEMATA a LEFT JOIN information_schema.TABLES b ON a.schema_name=b.table_schema GROUP BY schema_name"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="selectProcessor">
                <Parameter type="" key="SELECT" value="SELECT ((mySqlStateAvailability&gt;=0?'1':'0')) as dbAvailability,dbdataBaseName"/>
            </PluginDataHandler>
        </PluginDataHandlers>
        <PluginDataConverter classKey="subInstConverter">
            <Parameter type="" key="IndexColumnTitle" value="dbdataBaseName"/>
            <Parameter type="" key="ValueColumnTitle" value="dbAvailability"/>
            <Parameter type="ResourceProperty" key="InstPropertyKey" value="dbdataBaseName"/>
        </PluginDataConverter>
    </MetricPlugin>
    <MetricPlugin metricid="MySQLsInstanceID" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns=""/>
        <PluginParameter type="ArrayType">
            <Parameter type="DiscoveryInfo" key="Port" value="Port"/>
            <Parameter type="DiscoveryInfo" key="IP" value="IP"/>
        </PluginParameter>
    </MetricPlugin>
    <MetricPlugin metricid="deadlockTable" collectType="" pluginid="JdbcPlugin">
        <PluginResultMetaInfo columns="sid,username,lockwait,status,machine"/>
        <PluginParameter type="ArrayType">
            <Parameter type="" key="SQL" value="select b.THREAD_ID,a.USER,a.HOST,c.trx_state,b.PROCESSLIST_HOST from INFORMATION_SCHEMA.PROCESSLIST a,performance_schema.threads b,information_schema.innodb_trx c where a.id=b.PROCESSLIST_ID and b.PROCESSLIST_ID=c.trx_mysql_thread_id and c.trx_state='LOCK WAIT'"/>
        </PluginParameter>
        <PluginDataHandlers>
            <PluginDataHandler classKey="tableConverter"/>
        </PluginDataHandlers>
    </MetricPlugin>
</MetricPlugins>
